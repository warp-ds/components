import{r as J,R as a}from"./index-DmM0KDA7.js";import{i as x}from"./index-BAUi5aDK.js";var $={},U=Object.defineProperty,K=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,A=(e,t,r)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t)=>{for(var r in t||(t={}))z.call(t,r)&&A(e,r,t[r]);if(m)for(var r of m(t))N.call(t,r)&&A(e,r,t[r]);return e},X=(e,t)=>K(e,Y(t)),Z=(e,t)=>{var r={};for(var n in e)z.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&m)for(var n of m(e))t.indexOf(n)<0&&N.call(e,n)&&(r[n]=e[n]);return r},R=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e.reduce(function(r,n){return r.concat(typeof n=="string"?n:Array.isArray(n)?R.apply(void 0,n):typeof n=="object"&&n?Object.keys(n).map(function(i){return n[i]?i:""}):"")},[]).join(" ")},u={wrapper:"relative",base:"block text-m leading-m mb-0 px-8 py-12 rounded-4 w-full focusable focus:[--w-outline-offset:-2px] caret-current",default:"border-1 s-text s-bg s-border hover:s-border-hover active:s-border-selected",disabled:"border-1 s-text-disabled s-bg-disabled-subtle s-border-disabled pointer-events-none",invalid:"border-1 s-text-negative s-bg s-border-negative hover:s-border-negative-hover outline-[--w-s-color-border-negative]!",readOnly:"pl-0 bg-transparent pointer-events-none",placeholder:"placeholder:s-text-placeholder",suffix:"pr-40",prefix:"pl-[var(--w-prefix-width,_40px)]"},S={base:"antialiased block relative text-s font-bold pb-4 cursor-pointer s-text",optional:"pl-8 font-normal text-s s-text-subtle"},O={base:"text-xs mt-4 block",color:"s-text-subtle",colorInvalid:"s-text-negative"};function ee(e){const t=R([O.base,e.isInvalid?O.colorInvalid:O.color]);return a.createElement("div",{id:e.helpId,className:t},e.helpText)}var te=["en","nb","fi","da","sv"],D="en",I=e=>te.find(t=>e===t||e.toLowerCase().includes(t))||D;function re(){if(typeof window>"u"){const e=$.NMP_LANGUAGE||Intl.DateTimeFormat().resolvedOptions().locale;return I(e)}try{const e=document.documentElement.lang;return I(e)}catch(e){return console.warn("could not detect locale, falling back to source locale",e),D}}var ne=(e,t,r,n,i,o)=>e==="nb"?r:e==="fi"?n:e==="da"?i:e==="sv"?o:t,ie=(e,t,r,n,i)=>{const o=re(),s=ne(o,e,t,r,n,i);x.load(o,s),x.activate(o)},L=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(i,o){return i[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];r.call(n,s[1],s[0])}},t}()}(),E=typeof window<"u"&&typeof document<"u"&&window.document===document,_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),oe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(_):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),se=2;function ae(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&l()}function s(){oe(o)}function l(){var c=Date.now();if(r){if(c-i<se)return;n=!0}else r=!0,n=!1,setTimeout(s,t);i=c}return l}var ce=20,le=["top","right","bottom","left","width","height","size","weight"],ue=typeof MutationObserver<"u",fe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ae(this.refresh.bind(this),ce)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!E||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ue?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!E||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=le.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),j=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||_},G=g(0,0,0,0);function y(e){return parseFloat(e)||0}function P(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var o=e["border-"+i+"-width"];return n+y(o)},0)}function de(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var o=i[n],s=e["padding-"+o];r[o]=y(s)}return r}function he(e){var t=e.getBBox();return g(0,0,t.width,t.height)}function ve(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return G;var n=h(e).getComputedStyle(e),i=de(n),o=i.left+i.right,s=i.top+i.bottom,l=y(n.width),c=y(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+o)!==t&&(l-=P(n,"left","right")+o),Math.round(c+s)!==r&&(c-=P(n,"top","bottom")+s)),!be(e)){var v=Math.round(l+o)-t,f=Math.round(c+s)-r;Math.abs(v)!==1&&(l-=v),Math.abs(f)!==1&&(c-=f)}return g(i.left,i.top,l,c)}var pe=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&typeof e.getBBox=="function"}}();function be(e){return e===h(e).document.documentElement}function me(e){return E?pe(e)?he(e):ve(e):G}function _e(e){var t=e.x,r=e.y,n=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return j(s,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),s}function g(e,t,r,n){return{x:e,y:t,width:r,height:n}}var ye=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=me(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),ge=function(){function e(t,r){var n=_e(r);j(this,{target:t,contentRect:n})}return e}(),we=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new L,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new ye(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new ge(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k=typeof WeakMap<"u"?new WeakMap:new L,F=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=fe.getInstance(),n=new we(t,r,this);k.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){F.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}});(function(){return typeof _.ResizeObserver<"u"?_.ResizeObserver:F})();var C=a.useId,Oe=typeof C=="function"?()=>C().replace(/:/g,""):()=>a.useState(Ee())[0],xe=e=>{const t=Oe();return e||t};function Ee(){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}var Re=JSON.parse('{"textfield.label.optional":["(valgfrit)"]}'),Te=JSON.parse('{"textfield.label.optional":["(optional)"]}'),Me=JSON.parse('{"textfield.label.optional":["(vapaaehtoinen)"]}'),Ae=JSON.parse('{"textfield.label.optional":["(valgfritt)"]}'),Se=JSON.parse('{"textfield.label.optional":["(valfritt)"]}'),Ce=J.forwardRef((e,t)=>{const r=e,{className:n,disabled:i,id:o,children:s,invalid:l,helpText:c,label:v,readOnly:f,type:V="text",style:H,optional:W}=r,q=Z(r,["className","disabled","id","children","invalid","helpText","label","readOnly","type","style","optional"]);ie(Te,Ae,Me,Re,Se);const w=xe(o),b=c?`${w}__hint`:void 0,d=l,T=a.Children.toArray(s).find(p=>a.isValidElement(p)&&p.props.suffix),M=a.Children.toArray(s).find(p=>a.isValidElement(p)&&p.props.prefix),B=R([u.base,!!e.placeholder&&u.placeholder,!!T&&u.suffix,!!M&&u.prefix,!d&&!i&&!f&&u.default,d&&!i&&!f&&u.invalid,!d&&i&&!f&&u.disabled,!d&&!i&&f&&u.readOnly]);return a.createElement("div",{className:n,style:H},v&&a.createElement("label",{htmlFor:w,className:S.base},v,W&&a.createElement("span",{className:S.optional},x._({id:"textfield.label.optional",message:"(optional)",comment:"Shown behind label when marked as optional"}))),a.createElement("div",{className:u.wrapper},M,a.createElement("input",X(Q({className:B},q),{"aria-describedby":b,"aria-errormessage":d&&b?b:void 0,"aria-invalid":d,disabled:i,id:w,readOnly:f,ref:t,type:V})),T),e.helpText&&a.createElement(ee,{helpId:b,helpText:c,isInvalid:d}))});export{Ce as T};
