import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-DmM0KDA7.js";function z(e,t){return Math.round(e)}function V(e){return typeof e=="number"?z(e):e}function te(e,t,i){return Math.min(Math.max(e,t),i)}function ke(e,t,i){return[te(e[0],t,i),te(e[1],t,i)]}const re=({display:e,children:t,ref:i})=>p.jsx("div",{className:"w-slider__tooltip",style:{visibility:e?"visible":"hidden"},ref:i,children:t}),ie=({display:e,ref:t})=>p.jsxs("svg",{style:{visibility:e?"visible":"hidden"},ref:t,width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M10.5858 8.58579L6.34315 4.34315C4.84285 2.84286 2.80802 2 0.686291 2H23.3137C21.192 2 19.1571 2.84285 17.6569 4.34314L13.4142 8.58579C12.6332 9.36684 11.3668 9.36684 10.5858 8.58579Z",fill:"#1B1B1F"}),p.jsx("line",{y1:"1.48",x2:"24",y2:"1.48",stroke:"#1B1B1F",strokeWidth:"1.2"})]}),Se=(e,t,i,c,o,l,g,v,h)=>{var _,D;const O=((_=i.current)==null?void 0:_.clientWidth)||0,I=((D=i.current)==null?void 0:D.getBoundingClientRect()).left,[Y,N]=Ne(e,o,l),P=(e[0]-l)/(o-l)*O,X=(e[1]-l)/(o-l)*O,R=P+Y+I,d=X+N+I,M={left:R+"px",transform:"translateY(-39px) translateX(-50%)"},b={left:d+"px",transform:"translateY(-39px) translateX(-50%)"};if(h){const W=document.body.clientWidth,u=.5*(Oe(t[g]||e[g],v)+y),k=5,x=C=>({left:C==="left"?k+"px":"",right:C==="right"?k+"px":"",transform:"translateY(-39px)"});c&&(R+u>W-k&&Object.assign(M,x("right")),R-u<k&&Object.assign(M,x("left"))),d+u>W-k&&Object.assign(b,x("right")),d-u<k&&Object.assign(b,x("left"))}return[M,b,{left:R+"px",transform:"translateY(-9px) translateX(-50%)"},{left:d+"px",transform:"translateY(-9px) translateX(-50%)"}]},Ne=(e,t,i)=>{const c=(e[0]-i)/(t-i)*y,o=(e[1]-i)/(t-i)*y;return[.5*y-c,.5*y-o]},Oe=(e,t)=>{const i=t.current;if(i)return i.innerText=e,i.clientWidth};re.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{display:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"any"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""}}};ie.__docgenInfo={description:"",methods:[],displayName:"TooltipArrow",props:{display:{required:!0,tsType:{name:"boolean"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"SVGSVGElement"}],raw:"RefObject<SVGSVGElement>"},description:""}}};const Ie=".w-slider{--_thumb-color: var(--w-s-color-background-primary);--_thumb-focus-visible: var(--w-s-color-border-focus);--_thumb-focus: #00000014;--_active-track-color: var(--w-s-color-background-primary);--_track-color: var(--w-s-color-background-disabled-subtle);--_mark-line: var(--w-s-color-background-disabled-subtle);--_slider-disabled-color: var(--w-s-color-background-disabled);--_tooltip-text-color: var(--w-s-color-text-inverted-static);--_tooltip-color: var(--w-color-tooltip-background-static);--_mark-color: var(--w-s-color-text-subtle)}.w-slider__wrapper{display:grid;max-width:100%;margin:8px 0}.w-slider__input-wrapper{grid-row:1;grid-column:1;display:grid}.w-slider__input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:44px;grid-row:1;grid-column:1;pointer-events:none}.w-slider__input[type=range]:focus{outline:none}.w-slider__input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(-12.5px);border-radius:14px;pointer-events:all!important}.w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-webkit-slider-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}@media (hover: none){.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:none!important;box-shadow:0 0 0 8px var(--_thumb-focus)!important}}.w-slider__input[type=range]::-webkit-slider-runnable-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__active-track{background-color:var(--_active-track-color);height:6px;border-radius:3px;width:50%;transform:translateY(19px);grid-row:1;grid-column:1;z-index:0;pointer-events:none;display:grid;width:0px}.w-slider__tooltips{width:100%;grid-row:1;grid-column:1;pointer-events:none;display:grid;height:0}.w-slider__tooltips .w-slider__tooltip{color:var(--_tooltip-text-color);padding:5px 12px;position:absolute;text-align:center;background-color:var(--_tooltip-color);z-index:20;width:max-content;border-radius:4px;white-space:nowrap}.w-slider__tooltips svg{grid-row:1;grid-column:1;position:absolute;z-index:20}.w-slider__steps{display:grid;transform:translateY(-4px);grid-auto-flow:column;grid-template-columns:max-content;justify-items:end;color:var(--_mark-color);pointer-events:none;grid-column:1;align-self:end;margin:0 11.7px;grid-auto-columns:minmax(0,1fr)}.w-slider__steps .w-slider__mark{display:grid;justify-items:center;grid-row-gap:3.5px}.w-slider__mark-line{width:4px;height:8px;border-radius:2px;background-color:var(--_mark-line)}.w-slider__mark-value{width:0;white-space:nowrap;display:grid;justify-content:center}.w-slider__markvalues{display:grid;color:var(--_mark-color);grid-template-columns:auto auto;height:25.5px}.w-slider__markvalues>div:nth-child(1){justify-self:start}.w-slider__markvalues>div:nth-child(2){justify-self:end}.w-slider__width-check{visibility:hidden;pointer-events:none;z-index:0;width:max-content;height:0px}.w-slider__wrapper-disabled .w-slider__active-track{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-webkit-slider-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:none}",y=28;function Me({min:e=0,max:t=100,rangeValues:i,step:c=1,value:o,values:l,disabled:g,onChange:v,onChangeAfter:h,"aria-label":O,"aria-labelledby":ne,"aria-valuetext":I,keyboardStepFactor:Y=.04,showTooltips:N=!1,containTooltips:P=!0,showMarks:X=!0,containMarks:R=!1,startEndValues:d}){const b=(l?"range":"standard")==="range";i&&(e=0,t=i.length-1),d!=null&&d[0]&&(e=e-c),d!=null&&d[1]&&(t=t+c);const _=s.useCallback(r=>i?i.findIndex(n=>n.label?n.label===r.label:n===r):0,[]),D=s.useCallback(()=>i?l?[_(l[0]),_(l[1])]:[e,_(o)]:l?F(l,c):[e,S(o,c)],[]),W=()=>l?F(l,c):[e,S(o,c)],[u,k]=s.useState(()=>D()),[x,C]=s.useState(!1),U=s.useRef(null),A=s.useRef(null),oe=s.useRef(null),j=s.useRef(null),T=s.useRef(null),se=s.useRef(null),le=s.useRef(null),ce=s.useRef(null),ae=s.useRef(null),de=s.useRef(0),[G,K]=s.useState(!1),[H,$]=s.useState(!1),ue=N&&(x||G)&&!H,pe=N&&(x||H)&&!G,Z=(r,n=-1)=>{Te(r),N&&Re(r,n)};s.useEffect(()=>{const r=()=>{Z(u)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[u]);const xe=s.useCallback((r,n)=>{const a=f=>{const w=d.findIndex(m=>m===f);return w!==-1?w===0?e:t:f};return r&&d?r=a(r):n&&d&&(n=[a(n[0]),a(n[1])]),{value:r,values:n}},[]);s.useEffect(()=>{if((typeof o=="number"||l!=null&&l.every(r=>typeof r=="number"))&&We(o,l,e,t),!(G||H)){if(!i&&d){const n=xe(o,l);o=n.value,l=n.values}i&&(b?l=[_(l[0]),_(l[1])]:o=_(o));const r=W();k(r),Z(r),L({values:l,value:o},b,j,T)}},[l,o]),s.useEffect(()=>{h&&!x&&h(we(u))},[x,u]),s.useEffect(()=>{j.current&&j.current.setAttribute("value",u[0].toString()),T.current&&T.current.setAttribute("value",u[1].toString())},[u]);const J=s.useCallback((r,n)=>{const a={left:-1,right:1},f=t*Y,w=u[n]+a[r]*f,m=E(w,n,b,u,e,t,c,!0);L({values:m,value:w},b,j,T),Q(m,n)},[u]),ve=s.useCallback((r,n)=>{["ArrowUp","ArrowDown"].includes(r.key)&&r.preventDefault(),["ArrowLeft","ArrowRight"].includes(r.key)&&(C(!0),r.key==="ArrowLeft"&&J("left",n),r.key==="ArrowRight"&&J("right",n))},[J]),fe=s.useCallback(r=>{if(!g&&r.target.nodeName!=="INPUT"){const n=r.touches?Fe(r):r.nativeEvent.offsetX,a=A.current.clientWidth,f=S(n/a*(t-e)+e,c),w=(u[0]+u[1])/2,m=f>S(w,c)?1:0,q=E(f,m,b,u,e,t,c);Q(q,m),L({values:q,value:q[1]},b,j,T)}},[l,o,u]),Q=s.useCallback((r,n)=>{var a;if(clearTimeout(de.current),b){if((w=>{var ye;const m=w[1]-w[0],qe=((((ye=A.current)==null?void 0:ye.clientWidth)||0)-y)/(t-e);return m*qe})(r)<y){const w=(t-e)/((((a=A.current)==null?void 0:a.clientWidth)||0)-y);n===0?r[0]=Le(r[1]-w*y,c):r[1]=Be(r[0]+w*y,c)}L({values:r,value:r[1]},b,j,T)}de.current=setTimeout(()=>{r=ke(r,e,t),k(r),v&&v(we(r))},.01),Z(r,n)},[]),we=s.useCallback(r=>{if(i)return b?[i[r[0]],i[r[1]]]:i[r[1]];{const n=ee(r,d,e,t);return b?[V(n[0]),V(n[1])]:V(n[1])}},[]),je=s.useCallback((r,n)=>{C(!0);const a=E(+r.target.value,n,b,u,e,t,c);Q(a,n)},[u]),B=()=>C(!1),be=s.useCallback(r=>{const n=i[r];return typeof n=="string"?n:n.label},[]),he=s.useCallback(r=>{var n;if(i){const a=u[r];return typeof i[a]=="string"?i[a]:(n=i[a])==null?void 0:n.label}else return ee(u,d,e,t)[r]},[u]),Te=s.useCallback(r=>{U.current&&(U.current.style.cssText=ze(r,A,b,t,e))},[]),Ce=s.useCallback(r=>i?r.map(n=>i[n].label?i[n].label:i[n]):ee(r,d,e,t),[u,d,i]),Re=s.useCallback((r,n=-1)=>{const a=f=>{const w=Se(r,Ce(r),A,b,t,e,f,oe,P);[se,le,ce,ae].forEach((m,q)=>Object.assign(m.current.style,w[q]))};n===-1?[0,1].forEach(f=>a(f)):a(n)},[]),ge=s.useCallback(()=>{_e()||(K(document.activeElement===j.current),$(document.activeElement===T.current))},[]),me=s.useCallback((r,n)=>g?p.jsx("input",{className:"w-slider__input",type:"range",disabled:!0,value:u[r],min:e,max:t}):p.jsx("input",{className:"w-slider__input",ref:n,type:"range",step:c,min:e,max:t,onKeyDown:a=>ve(a,r),onKeyUp:()=>C(!1),onChange:a=>je(a,r),onTouchStart:a=>{r===0?K(!0):$(!0),_e()&&a.target.focus()},onTouchEnd:()=>r===0?K(!1):$(!1),...De({ariaLabel:O,ariaLabelledBy:ne,ariaValueText:I})}),[u]),Ae=s.useCallback(()=>{const r=()=>[...Array(2).keys()].map(f=>p.jsx("div",{className:"w-slider__mark-line"},f)),n=()=>[...Array(2).keys()].map(f=>{const w=d!=null&&d[f]?d[f]:(t-e)*f+e;return p.jsx("div",{children:i?be(w):w},f)}),a=()=>[...Array(2).keys()].map(f=>{const w=d!=null&&d[f]?d[f]:(t-e)*f+e;return p.jsxs("div",{className:"w-slider__mark",children:[p.jsx("div",{className:"w-slider__mark-line"}),p.jsx("div",{className:"w-slider__mark-value",children:i?be(w):w})]},f)});return R?p.jsxs("div",{children:[p.jsx("div",{className:"w-slider__steps",children:r()}),p.jsx("div",{className:"w-slider__markvalues",children:n()})]}):p.jsx("div",{className:"w-slider__steps",children:a()})},[]);return p.jsxs("div",{className:"w-slider",children:[p.jsx("style",{href:"RangeSlider",precedence:"medium",children:Ie}),p.jsxs("div",{className:`w-slider__wrapper ${g?"w-slider__wrapper-disabled":""}`,onContextMenu:r=>r.preventDefault(),children:[p.jsxs("div",{className:"w-slider__tooltips",children:[p.jsx(re,{display:ue&&b,ref:se,children:he(0)}),p.jsx(re,{display:pe,ref:le,children:he(1)}),p.jsx(ie,{display:ue&&b,ref:ce}),p.jsx(ie,{display:pe,ref:ae})]}),p.jsx("div",{className:"w-slider__active-track",ref:U}),p.jsxs("div",{className:"w-slider__input-wrapper",ref:A,onMouseDown:fe,onTouchStart:fe,onKeyUp:B,onMouseUp:B,onTouchEnd:B,onMouseOut:B,onBlur:ge,onFocus:ge,children:[b&&me(0,j),me(1,T)]}),X&&Ae()]}),p.jsx("div",{className:"w-slider__width-check",ref:oe})]})}function De({ariaLabel:e,ariaLabelledBy:t,ariaValueText:i}){return{"aria-label":e,"aria-labelledby":t,"aria-valuetext":i}}function We(e,t,i,c){(e&&e<i||t&&t[0]<i)&&console.warn("Value too low."),(e&&e>c||t&&t[1]>c)&&console.warn("Value too high.")}function L({value:e,values:t},i,c,o){i?(c.current&&(c.current.value=t[0]),o.current&&(o.current.value=t[1])):o.current&&(o.current.value=e)}const E=(e,t,i,c,o,l,g,v=!1)=>{let h;return i?h=t===1?[c[0],e]:[e,c[1]]:h=[o,e],v?ke(F(h,g),o,l):F(h,g)},S=(e,t)=>t>1?z(e/t)*t:z(e),F=(e,t)=>[S(e[0],t),S(e[1],t)],Be=(e,t)=>Math.ceil(e/t)*t,Le=(e,t)=>Math.floor(e/t)*t,ze=(e,t,i,c,o)=>{var h;let l=(e[1]-e[0])/(c-o);const g=((h=t.current)==null?void 0:h.clientWidth)||0;(l<0||l>1)&&(console.warn("Values outside of range."),l=te(l,0,1));const v=i?(e[0]-o)/(c-o)*g:0;return`
    width: ${l*100+"%"};
    margin-left: ${v+"px"};`},Fe=e=>{const t=e.target.getBoundingClientRect(),i=e.touches[0].clientX-t.left;return z(i)},ee=(e,t,i,c)=>{const o=[...e];return t!=null&&t[0]&&(e[0]===i&&(o[0]=t[0]),e[1]===i&&(o[1]=t[0])),t!=null&&t[1]&&(e[0]===c&&(o[0]=t[1]),e[1]===c&&(o[1]=t[1])),o},_e=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;Me.__docgenInfo={description:"",methods:[],displayName:"CoreSlider",props:{max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"number | RangeValue",elements:[{name:"number"},{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},values:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | RangeValue)[]"},description:""},onChange:{required:!1,tsType:{name:"any"},description:""},onChangeAfter:{required:!1,tsType:{name:"any"},description:""},startEndValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | null)[]"},description:""},rangeValues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}],raw:"RangeValue[]"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-valuetext":{required:!1,tsType:{name:"string"},description:""},keyboardStepFactor:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.04",computed:!1}},showMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{Me as C};
