import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DmM0KDA7.js";function F(e,t){return Math.round(e)}function E(e){return typeof e=="number"?F(e):e}function te(e,t,i){return Math.min(Math.max(e,t),i)}function ke(e,t,i){return[te(e[0],t,i),te(e[1],t,i)]}const re=({display:e,children:t,ref:i})=>p.jsx("div",{className:"w-slider__tooltip",style:{visibility:e?"visible":"hidden"},ref:i,children:t}),ie=({display:e,ref:t})=>p.jsxs("svg",{style:{visibility:e?"visible":"hidden"},ref:t,width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M10.5858 8.58579L6.34315 4.34315C4.84285 2.84286 2.80802 2 0.686291 2H23.3137C21.192 2 19.1571 2.84285 17.6569 4.34314L13.4142 8.58579C12.6332 9.36684 11.3668 9.36684 10.5858 8.58579Z",fill:"#1B1B1F"}),p.jsx("line",{y1:"1.48",x2:"24",y2:"1.48",stroke:"#1B1B1F",strokeWidth:"1.2"})]}),Se=(e,t,i,s,a,l,m,T,g)=>{var y,B;const M=((y=i.current)==null?void 0:y.clientWidth)||0,D=((B=i.current)==null?void 0:B.getBoundingClientRect()).left,[X,N]=Ne(e,a,l),U=(e[0]-l)/(a-l)*M,H=(e[1]-l)/(a-l)*M,R=U+X+D,u=H+N+D,W={left:R+"px",transform:"translateY(-39px) translateX(-50%)"},w={left:u+"px",transform:"translateY(-39px) translateX(-50%)"};if(g){const L=document.body.clientWidth,c=.5*(Oe(t[m]||e[m],T)+_),k=5,x=C=>({left:C==="left"?k+"px":"",right:C==="right"?k+"px":"",transform:"translateY(-39px)"});s&&(R+c>L-k&&Object.assign(W,x("right")),R-c<k&&Object.assign(W,x("left"))),u+c>L-k&&Object.assign(w,x("right")),u-c<k&&Object.assign(w,x("left"))}return[W,w,{left:R+"px",transform:"translateY(-9px) translateX(-50%)"},{left:u+"px",transform:"translateY(-9px) translateX(-50%)"}]},Ne=(e,t,i)=>{const s=(e[0]-i)/(t-i)*_,a=(e[1]-i)/(t-i)*_;return[.5*_-s,.5*_-a]},Oe=(e,t)=>{const i=t.current;if(i)return i.innerText=e,i.clientWidth};re.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{display:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"any"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""}}};ie.__docgenInfo={description:"",methods:[],displayName:"TooltipArrow",props:{display:{required:!0,tsType:{name:"boolean"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"SVGSVGElement"}],raw:"RefObject<SVGSVGElement>"},description:""}}};const Ie=".w-slider{--_thumb-color: var(--w-s-color-background-primary);--_thumb-focus-visible: var(--w-s-color-border-focus);--_thumb-focus: #00000014;--_active-track-color: var(--w-s-color-background-primary);--_track-color: var(--w-s-color-background-disabled-subtle);--_mark-line: var(--w-s-color-background-disabled-subtle);--_slider-disabled-color: var(--w-s-color-background-disabled);--_tooltip-text-color: var(--w-s-color-text-inverted-static);--_tooltip-color: var(--w-color-tooltip-background-static);--_mark-color: var(--w-s-color-text-subtle)}.w-slider__wrapper{display:grid;max-width:100%;margin:8px 0}.w-slider__input-wrapper{grid-row:1;grid-column:1;display:grid}.w-slider__input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:44px;grid-row:1;grid-column:1;pointer-events:none}.w-slider__input[type=range]:focus{outline:none}.w-slider__input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(-12.5px);border-radius:14px;pointer-events:all!important}.w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-webkit-slider-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}@media (hover: none){.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:none!important;box-shadow:0 0 0 8px var(--_thumb-focus)!important}}.w-slider__input[type=range]::-webkit-slider-runnable-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__active-track{background-color:var(--_active-track-color);height:6px;border-radius:3px;width:50%;transform:translateY(19px);grid-row:1;grid-column:1;z-index:0;pointer-events:none;display:grid;width:0px}.w-slider__active-track.w-slider__track-noround{border-top-right-radius:0;border-bottom-right-radius:0}.w-slider__tooltips{width:100%;grid-row:1;grid-column:1;pointer-events:none;display:grid;height:0}.w-slider__tooltips .w-slider__tooltip{color:var(--_tooltip-text-color);padding:5px 12px;position:absolute;text-align:center;background-color:var(--_tooltip-color);z-index:20;width:max-content;border-radius:4px;white-space:nowrap}.w-slider__tooltips svg{grid-row:1;grid-column:1;position:absolute;z-index:20}.w-slider__marks{display:grid;transform:translateY(-8px);grid-auto-flow:column;grid-template-columns:max-content;justify-items:end;color:var(--_mark-color);pointer-events:none;grid-column:1;align-self:end;margin:0 11.7px;grid-auto-columns:minmax(0,1fr)}.w-slider__marks .w-slider__mark{display:grid;justify-items:center;grid-row-gap:1px}.w-slider__mark-line{width:4px;height:8px;border-radius:2px;background-color:var(--_mark-line)}.w-slider__mark-value{width:0;white-space:nowrap;display:grid;justify-content:center}.w-slider__markvalues{display:grid;color:var(--_mark-color);grid-template-columns:auto auto;transform:translateY(-8px);height:22px}.w-slider__markvalues>div:nth-child(1){justify-self:start}.w-slider__markvalues>div:nth-child(2){justify-self:end}.w-slider__width-check{visibility:hidden;pointer-events:none;z-index:0;width:max-content;height:0px}.w-slider__wrapper-disabled .w-slider__active-track{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-webkit-slider-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:none}.w-slider__marks-contained{display:grid;grid-row-gap:1px;grid-template-rows:max-content}",_=28;function Me({min:e=0,max:t=100,rangeValues:i,step:s=1,value:a,values:l,disabled:m,onChange:T,onChangeAfter:g,"aria-label":M,"aria-labelledby":ne,"aria-valuetext":D,keyboardStepFactor:X=.04,showTooltips:N=!1,containTooltips:U=!0,showMarks:H=!0,containMarks:R=!1,startEndValues:u}){const w=(l?"range":"standard")==="range";i&&(e=0,t=i.length-1),u!=null&&u[0]&&(e=e-s),u!=null&&u[1]&&(t=t+s);const y=o.useCallback(r=>i?i.findIndex(n=>n.label?n.label===r.label:n===r):0,[]),B=o.useCallback(()=>i?l?[y(l[0]),y(l[1])]:[e,y(a)]:l?P(l,s):[e,S(a,s)],[]),L=()=>l?P(l,s):[e,S(a,s)],[c,k]=o.useState(()=>B()),[x,C]=o.useState(!1),G=o.useRef(null),q=o.useRef(null),oe=o.useRef(null),v=o.useRef(null),j=o.useRef(null),se=o.useRef(null),le=o.useRef(null),ce=o.useRef(null),ae=o.useRef(null),de=o.useRef(0),[K,$]=o.useState(!1),[Z,J]=o.useState(!1),ue=N&&(x||K)&&!Z,pe=N&&(x||Z)&&!K,Q=(r,n=-1)=>{Te(r),N&&Ce(r,n)};o.useEffect(()=>{const r=()=>{Q(c)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[c]);const xe=o.useCallback((r,n)=>{const d=f=>{const b=u.findIndex(h=>h===f);return b!==-1?b===0?e:t:f};return r&&u?r=d(r):n&&u&&(n=[d(n[0]),d(n[1])]),{value:r,values:n}},[]);o.useEffect(()=>{if((typeof a=="number"||l!=null&&l.every(r=>typeof r=="number"))&&We(a,l,e,t),!(K||Z)){if(!i&&u){const n=xe(a,l);a=n.value,l=n.values}i&&(w?l=[y(l[0]),y(l[1])]:a=y(a));const r=L();k(r),Q(r),I(r,w,v,j)}},[l,a]),o.useEffect(()=>{g&&!x&&g(we(c))},[x,c]),o.useEffect(()=>{v.current&&v.current.setAttribute("value",c[0].toString()),j.current&&j.current.setAttribute("value",c[1].toString())},[c]);const O=o.useCallback((r,n,d)=>{if(n){const f={left:-1,right:1},b=t*X,h=c[r]+f[n]*b,A=V(h,r,w,c,e,t,s,!0);I(A,w,v,j),z(A,r)}else I(d,w,v,j),z(d,r)},[c]),ve=o.useCallback((r,n)=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(r.key)&&(C(!0),["ArrowLeft","ArrowDown"].includes(r.key)&&O(n,"left"),["ArrowRight","ArrowUp"].includes(r.key)&&O(n,"right"),r.key==="End"&&O(n,void 0,n===0?[t,c[1]]:[c[0],t]),r.key==="Home"&&O(n,void 0,n===0?[e,c[1]]:[c[0],e]))},[O]),fe=o.useCallback(r=>{if(!m&&r.target.nodeName!=="INPUT"){const n=r.touches?Ye(r):r.nativeEvent.offsetX,d=q.current.clientWidth,f=S(n/d*(t-e)+e,s),b=(c[0]+c[1])/2,h=f>S(b,s)?1:0,A=V(f,h,w,c,e,t,s);z(A,h),I(A,w,v,j)}},[l,a,c]),z=o.useCallback((r,n)=>{var d;if(clearTimeout(de.current),w){if((b=>{var _e;const h=b[1]-b[0],qe=((((_e=q.current)==null?void 0:_e.clientWidth)||0)-_)/(t-e);return h*qe})(r)<_){const b=(t-e)/((((d=q.current)==null?void 0:d.clientWidth)||0)-_);n===0?r[0]=Le(r[1]-b*_,s):r[1]=Be(r[0]+b*_,s)}I(r,w,v,j)}de.current=setTimeout(()=>{r=ke(r,e,t),k(r),T&&T(we(r))},.01),Q(r,n)},[]),we=o.useCallback(r=>{if(i)return w?[i[r[0]],i[r[1]]]:i[r[1]];{const n=ee(r,u,e,t);return w?[E(n[0]),E(n[1])]:E(n[1])}},[]),je=o.useCallback((r,n)=>{C(!0);const d=V(+r.target.value,n,w,c,e,t,s);z(d,n)},[c]),Y=()=>C(!1),be=o.useCallback(r=>{const n=i[r];return typeof n=="string"?n:n.label},[]),ge=o.useCallback(r=>{var n;if(i){const d=c[r];return typeof i[d]=="string"?i[d]:(n=i[d])==null?void 0:n.label}else return ee(c,u,e,t)[r]},[c]),Te=o.useCallback(r=>{G.current&&(G.current.style.cssText=ze(r,q,w,t,e))},[]),Ae=o.useCallback(r=>i?r.map(n=>i[n].label?i[n].label:i[n]):ee(r,u,e,t),[c,u,i]),Ce=o.useCallback((r,n=-1)=>{const d=f=>{const b=Se(r,Ae(r),q,w,t,e,f,oe,U);[se,le,ce,ae].forEach((h,A)=>Object.assign(h.current.style,b[A]))};n===-1?[0,1].forEach(f=>d(f)):d(n)},[]),me=o.useCallback(()=>{ye()||($(document.activeElement===v.current),J(document.activeElement===j.current))},[]),he=o.useCallback((r,n)=>m?p.jsx("input",{className:"w-slider__input",type:"range",disabled:!0,value:c[r],min:e,max:t}):p.jsx("input",{className:"w-slider__input",ref:n,type:"range",step:s,min:e,max:t,onKeyDown:d=>ve(d,r),onKeyUp:()=>C(!1),onChange:d=>je(d,r),onTouchStart:d=>{r===0?$(!0):J(!0),ye()&&d.target.focus()},onTouchEnd:()=>r===0?$(!1):J(!1),...De({ariaLabel:M,ariaLabelledBy:ne,ariaValueText:D})}),[c]),Re=o.useCallback(()=>{const r=()=>[...Array(2).keys()].map(f=>p.jsx("div",{className:"w-slider__mark-line"},f)),n=()=>[...Array(2).keys()].map(f=>{const b=u!=null&&u[f]?u[f]:(t-e)*f+e;return p.jsx("div",{children:i?be(b):b},f)}),d=()=>[...Array(2).keys()].map(f=>{const b=u!=null&&u[f]?u[f]:(t-e)*f+e;return p.jsxs("div",{className:"w-slider__mark",children:[p.jsx("div",{className:"w-slider__mark-line"}),p.jsx("div",{className:"w-slider__mark-value",children:i?be(b):b})]},f)});return R?p.jsxs("div",{className:"w-slider__marks-contained",children:[p.jsx("div",{className:"w-slider__marks",children:r()}),p.jsx("div",{className:"w-slider__markvalues",children:n()})]}):p.jsx("div",{className:"w-slider__marks",children:d()})},[]);return p.jsxs("div",{className:"w-slider",children:[p.jsx("style",{href:"RangeSlider",precedence:"medium",children:Ie}),p.jsxs("div",{className:`w-slider__wrapper ${m?"w-slider__wrapper-disabled":""}`,onContextMenu:r=>r.preventDefault(),children:[p.jsxs("div",{className:"w-slider__tooltips",children:[p.jsx(re,{display:ue&&w,ref:se,children:ge(0)}),p.jsx(re,{display:pe,ref:le,children:ge(1)}),p.jsx(ie,{display:ue&&w,ref:ce}),p.jsx(ie,{display:pe,ref:ae})]}),p.jsx("div",{className:`w-slider__active-track${(c[1]-e)/(t-e)<.5?" w-slider__track-noround":""}`,ref:G}),p.jsxs("div",{className:"w-slider__input-wrapper",ref:q,onMouseDown:fe,onTouchStart:fe,onKeyUp:Y,onMouseUp:Y,onTouchEnd:Y,onMouseOut:Y,onBlur:me,onFocus:me,children:[w&&he(0,v),he(1,j)]}),H&&Re()]}),p.jsx("div",{className:"w-slider__width-check",ref:oe})]})}function De({ariaLabel:e,ariaLabelledBy:t,ariaValueText:i}){return{"aria-label":e,"aria-labelledby":t,"aria-valuetext":i}}function We(e,t,i,s){(e&&e<i||t&&t[0]<i)&&console.warn("Value too low."),(e&&e>s||t&&t[1]>s)&&console.warn("Value too high.")}function I(e,t,i,s){t&&i.current&&(i.current.value=e[0]),s.current&&(s.current.value=e[1])}const V=(e,t,i,s,a,l,m,T=!1)=>{let g;return i?g=t===1?[s[0],e]:[e,s[1]]:g=[a,e],T?ke(P(g,m),a,l):P(g,m)},S=(e,t)=>t>1?F(e/t)*t:F(e),P=(e,t)=>[S(e[0],t),S(e[1],t)],Be=(e,t)=>Math.ceil(e/t)*t,Le=(e,t)=>Math.floor(e/t)*t,ze=(e,t,i,s,a)=>{var g;let l=(e[1]-e[0])/(s-a);const m=((g=t.current)==null?void 0:g.clientWidth)||0;(l<0||l>1)&&(console.warn("Values outside of range."),l=te(l,0,1));const T=i?(e[0]-a)/(s-a)*m:0;return`
    width: ${l*100+"%"};
    margin-left: ${T+"px"};`},Ye=e=>{const t=e.target.getBoundingClientRect(),i=e.touches[0].clientX-t.left;return F(i)},ee=(e,t,i,s)=>{const a=[...e];return t!=null&&t[0]&&(e[0]===i&&(a[0]=t[0]),e[1]===i&&(a[1]=t[0])),t!=null&&t[1]&&(e[0]===s&&(a[0]=t[1]),e[1]===s&&(a[1]=t[1])),a},ye=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;Me.__docgenInfo={description:"",methods:[],displayName:"CoreSlider",props:{max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"number | RangeValue",elements:[{name:"number"},{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},values:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | RangeValue)[]"},description:""},onChange:{required:!1,tsType:{name:"any"},description:""},onChangeAfter:{required:!1,tsType:{name:"any"},description:""},startEndValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | null)[]"},description:""},rangeValues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}],raw:"RangeValue[]"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-valuetext":{required:!1,tsType:{name:"string"},description:""},keyboardStepFactor:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.04",computed:!1}},showMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{Me as C};
