import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-DmM0KDA7.js";function z(e,t){return Math.round(e)}function V(e){return typeof e=="number"?z(e):e}function te(e,t,n){return Math.min(Math.max(e,t),n)}function ke(e,t,n){return[te(e[0],t,n),te(e[1],t,n)]}const re=({display:e,children:t,ref:n})=>p.jsx("div",{className:"w-slider__tooltip",style:{visibility:e?"visible":"hidden"},ref:n,children:t}),ne=({display:e,ref:t})=>p.jsxs("svg",{style:{visibility:e?"visible":"hidden"},ref:t,width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[p.jsx("path",{d:"M10.5858 8.58579L6.34315 4.34315C4.84285 2.84286 2.80802 2 0.686291 2H23.3137C21.192 2 19.1571 2.84285 17.6569 4.34314L13.4142 8.58579C12.6332 9.36684 11.3668 9.36684 10.5858 8.58579Z",fill:"#1B1B1F"}),p.jsx("line",{y1:"1.48",x2:"24",y2:"1.48",stroke:"#1B1B1F",strokeWidth:"1.2"})]}),qe=(e,t,n,a,o,s,h,v,g)=>{var _,D;const O=((_=n.current)==null?void 0:_.clientWidth)||0,I=((D=n.current)==null?void 0:D.getBoundingClientRect()).left,[Y,N]=Se(e,o,s),P=(e[0]-s)/(o-s)*O,X=(e[1]-s)/(o-s)*O,C=P+Y+I,d=X+N+I,M={left:C+"px",transform:"translateY(-39px) translateX(-50%)"},b={left:d+"px",transform:"translateY(-39px) translateX(-50%)"};if(g){const W=document.body.clientWidth,u=.5*(Ne(t[h]||e[h],v)+y),k=5,x=R=>({left:R==="left"?k+"px":"",right:R==="right"?k+"px":"",transform:"translateY(-39px)"});a&&(C+u>W-k&&Object.assign(M,x("right")),C-u<k&&Object.assign(M,x("left"))),d+u>W-k&&Object.assign(b,x("right")),d-u<k&&Object.assign(b,x("left"))}return[M,b,{left:C+"px",transform:"translateY(-9px) translateX(-50%)"},{left:d+"px",transform:"translateY(-9px) translateX(-50%)"}]},Se=(e,t,n)=>{const a=(e[0]-n)/(t-n)*y,o=(e[1]-n)/(t-n)*y;return[.5*y-a,.5*y-o]},Ne=(e,t)=>{const n=t.current;if(n)return n.innerText=e,n.clientWidth};re.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{display:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"any"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""}}};ne.__docgenInfo={description:"",methods:[],displayName:"TooltipArrow",props:{display:{required:!0,tsType:{name:"boolean"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"SVGSVGElement"}],raw:"RefObject<SVGSVGElement>"},description:""}}};const Oe=".w-slider{--_thumb-color: var(--w-s-color-background-primary);--_thumb-focus-visible: var(--w-s-color-border-focus);--_thumb-focus: #00000014;--_active-track-color: var(--w-s-color-background-primary);--_track-color: var(--w-s-color-background-disabled-subtle);--_mark-line: var(--w-s-color-background-disabled-subtle);--_slider-disabled-color: var(--w-s-color-background-disabled);--_tooltip-text-color: var(--w-s-color-text-inverted-static);--_tooltip-color: var(--w-color-tooltip-background-static);--_mark-color: var(--w-s-color-text-subtle)}.w-slider__wrapper{display:grid;max-width:100%;margin:8px 0}.w-slider__input-wrapper{grid-row:1;grid-column:1;display:grid}.w-slider__input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:44px;grid-row:1;grid-column:1;pointer-events:none}.w-slider__input[type=range]:focus{outline:none}.w-slider__input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(-12.5px);border-radius:14px;pointer-events:all!important}.w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-webkit-slider-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}@media (hover: none){.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:none!important;box-shadow:0 0 0 8px var(--_thumb-focus)!important}}.w-slider__input[type=range]::-webkit-slider-runnable-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__active-track{background-color:var(--_active-track-color);height:6px;border-radius:3px;width:50%;transform:translateY(19px);grid-row:1;grid-column:1;z-index:0;pointer-events:none;display:grid;width:0px}.w-slider__tooltips{width:100%;grid-row:1;grid-column:1;pointer-events:none;display:grid;height:0}.w-slider__tooltips .w-slider__tooltip{color:var(--_tooltip-text-color);padding:5px 12px;position:absolute;text-align:center;background-color:var(--_tooltip-color);z-index:20;width:max-content;border-radius:4px;white-space:nowrap}.w-slider__tooltips svg{grid-row:1;grid-column:1;position:absolute;z-index:20}.w-slider__steps{display:grid;transform:translateY(-4px);grid-auto-flow:column;grid-template-columns:max-content;justify-items:end;color:var(--_mark-color);pointer-events:none;grid-column:1;align-self:end;margin:0 11.7px;grid-auto-columns:minmax(0,1fr)}.w-slider__steps .w-slider__mark{display:grid;justify-items:center;grid-row-gap:3.5px}.w-slider__mark-line{width:4px;height:8px;border-radius:2px;background-color:var(--_mark-line)}.w-slider__mark-value{width:0;white-space:nowrap;display:grid;justify-content:center}.w-slider__markvalues{display:grid;color:var(--_mark-color);grid-template-columns:auto auto;height:25.5px}.w-slider__markvalues>div:nth-child(1){justify-self:start}.w-slider__markvalues>div:nth-child(2){justify-self:end}.w-slider__width-check{visibility:hidden;pointer-events:none;z-index:0;width:max-content;height:0px}.w-slider__wrapper-disabled .w-slider__active-track{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-webkit-slider-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:none}",y=28;function Ie({min:e=0,max:t=100,rangeValues:n,step:a=1,value:o,values:s,disabled:h,onChange:v,onChangeAfter:g,"aria-label":O,"aria-labelledby":ie,"aria-valuetext":I,keyboardStepFactor:Y=.04,showTooltips:N=!1,containTooltips:P=!0,showMarks:X=!0,containMarks:C=!1,startEndValues:d}){const b=(s?"range":"standard")==="range";n&&(e=0,t=n.length-1),d!=null&&d[0]&&(e=e-a),d!=null&&d[1]&&(t=t+a);const _=l.useCallback(r=>n?n.findIndex(i=>i.label?i.label===r.label:i===r):0,[]),D=l.useCallback(()=>n?s?[_(s[0]),_(s[1])]:[e,_(o)]:s?F(s,a):[e,S(o,a)],[]),W=()=>s?F(s,a):[e,S(o,a)],[u,k]=l.useState(()=>D()),[x,R]=l.useState(!1),U=l.useRef(null),A=l.useRef(null),oe=l.useRef(null),j=l.useRef(null),T=l.useRef(null),se=l.useRef(null),le=l.useRef(null),ae=l.useRef(null),ce=l.useRef(null),de=l.useRef(0),[G,K]=l.useState(!1),[H,$]=l.useState(!1),ue=N&&(x||G)&&!H,pe=N&&(x||H)&&!G,Z=(r,i=-1)=>{Te(r),N&&Re(r,i)};l.useEffect(()=>{const r=()=>{Z(u)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[u]);const xe=l.useCallback((r,i)=>{const c=f=>{const w=d.findIndex(m=>m===f);return w!==-1?w===0?e:t:f};return r&&d?r=c(r):i&&d&&(i=[c(i[0]),c(i[1])]),{value:r,values:i}},[]);l.useEffect(()=>{if((typeof o=="number"||s!=null&&s.every(r=>typeof r=="number"))&&De(o,s,e,t),!(G||H)){if(!n&&d){const i=xe(o,s);o=i.value,s=i.values}n&&(b?s=[_(s[0]),_(s[1])]:o=_(o));const r=W();k(r),Z(r),L({values:s,value:o},b,j,T)}},[s,o]),l.useEffect(()=>{g&&!x&&g(we(u))},[x,u]),l.useEffect(()=>{j.current&&j.current.setAttribute("value",u[0].toString()),T.current&&T.current.setAttribute("value",u[1].toString())},[u]);const J=l.useCallback((r,i)=>{const c={left:-1,right:1},f=t*Y,w=u[i]+c[r]*f,m=E(w,i,b,u,e,t,a,!0);L({values:m,value:w},b,j,T),Q(m,i)},[u]),ve=l.useCallback((r,i)=>{["ArrowUp","ArrowDown"].includes(r.key)&&r.preventDefault(),["ArrowLeft","ArrowRight"].includes(r.key)&&(R(!0),r.key==="ArrowLeft"&&J("left",i),r.key==="ArrowRight"&&J("right",i))},[J]),fe=l.useCallback(r=>{if(!h&&r.target.nodeName!=="INPUT"){const i=r.touches?ze(r):r.nativeEvent.offsetX,c=A.current.clientWidth,f=S(i/c*(t-e)+e,a),w=(u[0]+u[1])/2,m=f>S(w,a)?1:0,q=E(f,m,b,u,e,t,a);Q(q,m),L({values:q,value:q[1]},b,j,T)}},[s,o,u]),Q=l.useCallback((r,i)=>{var c;if(clearTimeout(de.current),b){if((w=>{var ye;const m=w[1]-w[0],Ae=((((ye=A.current)==null?void 0:ye.clientWidth)||0)-y)/(t-e);return m*Ae})(r)<y){const w=(t-e)/((((c=A.current)==null?void 0:c.clientWidth)||0)-y);i===0?r[0]=Be(r[1]-w*y,a):r[1]=We(r[0]+w*y,a)}L({values:r,value:r[1]},b,j,T)}de.current=setTimeout(()=>{r=ke(r,e,t),k(r),v&&v(we(r))},.01),Z(r,i)},[]),we=l.useCallback(r=>{if(n)return b?[n[r[0]],n[r[1]]]:n[r[1]];{const i=ee(r,d,e,t);return b?[V(i[0]),V(i[1])]:V(i[1])}},[]),je=l.useCallback((r,i)=>{R(!0);const c=E(+r.target.value,i,b,u,e,t,a);Q(c,i)},[u]),B=()=>R(!1),be=l.useCallback(r=>{const i=n[r];return typeof i=="string"?i:i.label},[]),ge=l.useCallback(r=>{var i;if(n){const c=u[r];return typeof n[c]=="string"?n[c]:(i=n[c])==null?void 0:i.label}else return ee(u,d,e,t)[r]},[u]),Te=l.useCallback(r=>{U.current&&(U.current.style.cssText=Le(r,A,b,t,e))},[]),Re=l.useCallback((r,i=-1)=>{const c=f=>{const w=qe(r,ee(r,d,e,t),A,b,t,e,f,oe,P);[se,le,ae,ce].forEach((m,q)=>Object.assign(m.current.style,w[q]))};i===-1?[0,1].forEach(f=>c(f)):c(i)},[]),he=l.useCallback(()=>{_e()||(K(document.activeElement===j.current),$(document.activeElement===T.current))},[]),me=l.useCallback((r,i)=>h?p.jsx("input",{className:"w-slider__input",type:"range",disabled:!0,value:u[r],min:e,max:t}):p.jsx("input",{className:"w-slider__input",ref:i,type:"range",step:a,min:e,max:t,onKeyDown:c=>ve(c,r),onKeyUp:()=>R(!1),onChange:c=>je(c,r),onTouchStart:c=>{r===0?K(!0):$(!0),_e()&&c.target.focus()},onTouchEnd:()=>r===0?K(!1):$(!1),...Me({ariaLabel:O,ariaLabelledBy:ie,ariaValueText:I})}),[u]),Ce=l.useCallback(()=>{const r=()=>[...Array(2).keys()].map(f=>p.jsx("div",{className:"w-slider__mark-line"},f)),i=()=>[...Array(2).keys()].map(f=>{const w=d!=null&&d[f]?d[f]:(t-e)*f+e;return p.jsx("div",{children:n?be(w):w},f)}),c=()=>[...Array(2).keys()].map(f=>{const w=d!=null&&d[f]?d[f]:(t-e)*f+e;return p.jsxs("div",{className:"w-slider__mark",children:[p.jsx("div",{className:"w-slider__mark-line"}),p.jsx("div",{className:"w-slider__mark-value",children:n?be(w):w})]},f)});return C?p.jsxs("div",{children:[p.jsx("div",{className:"w-slider__steps",children:r()}),p.jsx("div",{className:"w-slider__markvalues",children:i()})]}):p.jsx("div",{className:"w-slider__steps",children:c()})},[]);return p.jsxs("div",{className:"w-slider",children:[p.jsx("style",{href:"RangeSlider",precedence:"medium",children:Oe}),p.jsxs("div",{className:`w-slider__wrapper ${h?"w-slider__wrapper-disabled":""}`,onContextMenu:r=>r.preventDefault(),children:[p.jsxs("div",{className:"w-slider__tooltips",children:[p.jsx(re,{display:ue&&b,ref:se,children:ge(0)}),p.jsx(re,{display:pe,ref:le,children:ge(1)}),p.jsx(ne,{display:ue&&b,ref:ae}),p.jsx(ne,{display:pe,ref:ce})]}),p.jsx("div",{className:"w-slider__active-track",ref:U}),p.jsxs("div",{className:"w-slider__input-wrapper",ref:A,onMouseDown:fe,onTouchStart:fe,onKeyUp:B,onMouseUp:B,onTouchEnd:B,onMouseOut:B,onBlur:he,onFocus:he,children:[b&&me(0,j),me(1,T)]}),X&&Ce()]}),p.jsx("div",{className:"w-slider__width-check",ref:oe})]})}function Me({ariaLabel:e,ariaLabelledBy:t,ariaValueText:n}){return{"aria-label":e,"aria-labelledby":t,"aria-valuetext":n}}function De(e,t,n,a){(e&&e<n||t&&t[0]<n)&&console.warn("Value too low."),(e&&e>a||t&&t[1]>a)&&console.warn("Value too high.")}function L({value:e,values:t},n,a,o){n?(a.current&&(a.current.value=t[0]),o.current&&(o.current.value=t[1])):o.current&&(o.current.value=e)}const E=(e,t,n,a,o,s,h,v=!1)=>{let g;return n?g=t===1?[a[0],e]:[e,a[1]]:g=[o,e],v?ke(F(g,h),o,s):F(g,h)},S=(e,t)=>t>1?z(e/t)*t:z(e),F=(e,t)=>[S(e[0],t),S(e[1],t)],We=(e,t)=>Math.ceil(e/t)*t,Be=(e,t)=>Math.floor(e/t)*t,Le=(e,t,n,a,o)=>{var g;let s=(e[1]-e[0])/(a-o);const h=((g=t.current)==null?void 0:g.clientWidth)||0;(s<0||s>1)&&(console.warn("Values outside of range."),s=te(s,0,1));const v=n?(e[0]-o)/(a-o)*h:0;return`
    width: ${s*100+"%"};
    margin-left: ${v+"px"};`},ze=e=>{const t=e.target.getBoundingClientRect(),n=e.touches[0].clientX-t.left;return z(n)},ee=(e,t,n,a)=>{const o=[...e];return t&&(t[0]&&e[0]===n&&(o[0]=t[0]),t[1]&&e[0]===a&&(o[0]=t[1]),t[0]&&e[1]===n&&(o[1]=t[0]),t[1]&&e[1]===a&&(o[1]=t[1])),o},_e=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;Ie.__docgenInfo={description:"",methods:[],displayName:"CoreSlider",props:{max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"number | RangeValue",elements:[{name:"number"},{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},values:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | RangeValue)[]"},description:""},onChange:{required:!1,tsType:{name:"any"},description:""},onChangeAfter:{required:!1,tsType:{name:"any"},description:""},startEndValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | null)[]"},description:""},rangeValues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}],raw:"RangeValue[]"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-valuetext":{required:!1,tsType:{name:"string"},description:""},keyboardStepFactor:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.04",computed:!1}},showMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{Ie as C};
