import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DmM0KDA7.js";function F(e,t){return Math.round(e)}function V(e){return typeof e=="number"?F(e):e}function te(e,t,n){return Math.min(Math.max(e,t),n)}function ke(e,t,n){return[te(e[0],t,n),te(e[1],t,n)]}const re=({display:e,children:t,ref:n})=>u.jsx("div",{className:"w-slider__tooltip",style:{visibility:e?"visible":"hidden"},ref:n,children:t}),ne=({display:e,ref:t})=>u.jsxs("svg",{style:{visibility:e?"visible":"hidden"},ref:t,width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10.5858 8.58579L6.34315 4.34315C4.84285 2.84286 2.80802 2 0.686291 2H23.3137C21.192 2 19.1571 2.84285 17.6569 4.34314L13.4142 8.58579C12.6332 9.36684 11.3668 9.36684 10.5858 8.58579Z",fill:"#1B1B1F"}),u.jsx("line",{y1:"1.48",x2:"24",y2:"1.48",stroke:"#1B1B1F",strokeWidth:"1.2"})]}),qe=(e,t,n,s,c,l,m,T,g)=>{var y,z;const I=((y=n.current)==null?void 0:y.clientWidth)||0,M=((z=n.current)==null?void 0:z.getBoundingClientRect()).left,[X,N]=Se(e,c,l),U=(e[0]-l)/(c-l)*I,H=(e[1]-l)/(c-l)*I,C=U+X+M,d=H+N+M,W={left:C+"px",transform:"translateY(-39px) translateX(-50%)"},w={left:d+"px",transform:"translateY(-39px) translateX(-50%)"};if(g){const B=document.body.clientWidth,a=.5*(Ne(t[m]||e[m],T)+_),k=5,x=R=>({left:R==="left"?k+"px":"",right:R==="right"?k+"px":"",transform:"translateY(-39px)"});s&&(C+a>B-k&&Object.assign(W,x("right")),C-a<k&&Object.assign(W,x("left"))),d+a>B-k&&Object.assign(w,x("right")),d-a<k&&Object.assign(w,x("left"))}return[W,w,{left:C+"px",transform:"translateY(-9px) translateX(-50%)"},{left:d+"px",transform:"translateY(-9px) translateX(-50%)"}]},Se=(e,t,n)=>{const s=(e[0]-n)/(t-n)*_,c=(e[1]-n)/(t-n)*_;return[.5*_-s,.5*_-c]},Ne=(e,t)=>{const n=t.current;if(n)return n.innerText=e,n.clientWidth};re.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{display:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"any"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""}}};ne.__docgenInfo={description:"",methods:[],displayName:"TooltipArrow",props:{display:{required:!0,tsType:{name:"boolean"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"SVGSVGElement"}],raw:"RefObject<SVGSVGElement>"},description:""}}};const Oe=".w-slider{--_thumb-color: var(--w-s-color-background-primary);--_thumb-focus-visible: var(--w-s-color-border-focus);--_thumb-focus: #00000014;--_active-track-color: var(--w-s-color-background-primary);--_track-color: var(--w-s-color-background-disabled-subtle);--_mark-line: var(--w-s-color-background-disabled-subtle);--_slider-disabled-color: var(--w-s-color-background-disabled);--_tooltip-text-color: var(--w-s-color-text-inverted-static);--_tooltip-color: var(--w-color-tooltip-background-static);--_mark-color: var(--w-s-color-text-subtle)}.w-slider__wrapper{display:grid;max-width:100%;margin:8px 0}.w-slider__input-wrapper{grid-row:1;grid-column:1;display:grid}.w-slider__input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:44px;grid-row:1;grid-column:1;pointer-events:none;background-color:transparent}.w-slider__input[type=range]:focus{outline:none}.w-slider__input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(-12.5px);border-radius:14px;pointer-events:all!important}.w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-webkit-slider-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}@media (hover: none){.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:none!important;box-shadow:0 0 0 8px var(--_thumb-focus)!important}}.w-slider__input[type=range]::-webkit-slider-runnable-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__active-track{background-color:var(--_active-track-color);height:6px;border-radius:3px;width:50%;transform:translateY(19px);grid-row:1;grid-column:1;z-index:0;pointer-events:none;display:grid;width:0px}.w-slider__active-track.w-slider__track-noround{border-top-right-radius:0;border-bottom-right-radius:0}.w-slider__tooltips{width:100%;grid-row:1;grid-column:1;pointer-events:none;display:grid;height:0}.w-slider__tooltips .w-slider__tooltip{color:var(--_tooltip-text-color);padding:5px 12px;position:absolute;text-align:center;background-color:var(--_tooltip-color);z-index:20;width:max-content;border-radius:4px;white-space:nowrap}.w-slider__tooltips svg{grid-row:1;grid-column:1;position:absolute;z-index:20}.w-slider__marks{display:grid;transform:translateY(-8px);grid-auto-flow:column;grid-template-columns:max-content;justify-items:end;color:var(--_mark-color);pointer-events:none;grid-column:1;align-self:end;margin:0 11.7px;grid-auto-columns:minmax(0,1fr);z-index:-1}.w-slider__marks .w-slider__mark{display:grid;justify-items:center;grid-row-gap:1px}.w-slider__mark-line{width:4px;height:8px;border-radius:2px;background-color:var(--_mark-line)}.w-slider__mark-value{width:0;white-space:nowrap;display:grid;justify-content:center}.w-slider__markvalues{display:grid;color:var(--_mark-color);grid-template-columns:auto auto;transform:translateY(-8px);height:22px}.w-slider__markvalues>div:nth-child(1){justify-self:start}.w-slider__markvalues>div:nth-child(2){justify-self:end}.w-slider__width-check{visibility:hidden;pointer-events:none;z-index:0;width:max-content;height:0px}.w-slider__wrapper-disabled .w-slider__active-track{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-webkit-slider-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:none}.w-slider__marks-contained{display:grid;grid-row-gap:1px;grid-template-rows:max-content}",_=28;function De({min:e=0,max:t=100,rangeValues:n,step:s=1,value:c,values:l,disabled:m,onChange:T,onChangeAfter:g,"aria-label":I,"aria-labelledby":ie,"aria-valuetext":M,keyboardStepFactor:X=.04,showTooltips:N=!1,containTooltips:U=!0,showMarks:H=!0,containMarks:C=!1,startEndValues:d}){const w=(l?"range":"standard")==="range";n&&(e=0,t=n.length-1),d!=null&&d[0]&&(e=e-s),d!=null&&d[1]&&(t=t+s);const y=o.useCallback(r=>n?n.findIndex(i=>i.label?i.label===r.label:i===r):0,[]),z=o.useCallback(()=>n?l?[y(l[0]),y(l[1])]:[e,y(c)]:l?P(l,s):[e,S(c,s)],[]),B=()=>l?P(l,s):[e,S(c,s)],[a,k]=o.useState(()=>z()),[x,R]=o.useState(!1),G=o.useRef(null),q=o.useRef(null),oe=o.useRef(null),v=o.useRef(null),j=o.useRef(null),se=o.useRef(null),le=o.useRef(null),ae=o.useRef(null),ce=o.useRef(null),de=o.useRef(0),[K,$]=o.useState(!1),[Z,J]=o.useState(!1),ue=N&&(x||K)&&!Z,pe=N&&(x||Z)&&!K,Q=(r,i=-1)=>{Te(r),N&&Ae(r,i)};o.useEffect(()=>{const r=()=>{Q(a)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[a]);const xe=o.useCallback((r,i)=>{const p=f=>{const b=d.findIndex(h=>h===f);return b!==-1?b===0?e:t:f};return r&&d?r=p(r):i&&d&&(i=[p(i[0]),p(i[1])]),{value:r,values:i}},[]);o.useEffect(()=>{if((typeof c=="number"||l!=null&&l.every(r=>typeof r=="number"))&&Me(c,l,e,t),!(K||Z)){if(!n&&d){const i=xe(c,l);c=i.value,l=i.values}n&&(w?l=[y(l[0]),y(l[1])]:c=y(c));const r=B();k(r),Q(r),D(r,w,v,j)}},[l,c]),o.useEffect(()=>{g&&!x&&g(we(a))},[x,a]),o.useEffect(()=>{v.current&&v.current.setAttribute("value",a[0].toString()),j.current&&j.current.setAttribute("value",a[1].toString())},[a]);const O=o.useCallback((r,i,p)=>{if(i){const f={left:-1,right:1},b=t*X,h=a[r]+f[i]*b,A=ee(h,r,w,a,e,t,s,!0);D(A,w,v,j),L(A,r)}else D(p,w,v,j),L(p,r)},[a]),ve=o.useCallback((r,i)=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(r.key)&&(r.preventDefault(),R(!0),["ArrowLeft","ArrowDown"].includes(r.key)&&O(i,"left"),["ArrowRight","ArrowUp"].includes(r.key)&&O(i,"right"),r.key==="End"&&O(i,void 0,i===0?[t,a[1]]:[a[0],t]),r.key==="Home"&&O(i,void 0,i===0?[e,a[1]]:[a[0],e]))},[O]),fe=o.useCallback(r=>{if(!m&&r.target.nodeName!=="INPUT"){const i=r.touches?Le(r):r.nativeEvent.offsetX,p=q.current.clientWidth,f=S(i/p*(t-e)+e,s),b=(a[0]+a[1])/2,h=f>S(b,s)?1:0,A=ee(f,h,w,a,e,t,s);L(A,h),D(A,w,v,j)}},[l,c,a]),L=o.useCallback((r,i)=>{var p;if(clearTimeout(de.current),w){if((b=>{var he;const h=b[1]-b[0],Ce=((((he=q.current)==null?void 0:he.clientWidth)||0)-_)/(t-e);return h*Ce})(r)<_){const b=(t-e)/((((p=q.current)==null?void 0:p.clientWidth)||0)-_);i===0?r[0]=ze(r[1]-b*_,s):r[1]=We(r[0]+b*_,s)}D(r,w,v,j)}de.current=setTimeout(()=>{r=ke(r,e,t),k(r),T&&T(we(r))},.01),Q(r,i)},[]),we=o.useCallback(r=>{if(n)return w?[n[r[0]],n[r[1]]]:n[r[1]];{const i=_e(r,d,e,t);return w?[V(i[0]),V(i[1])]:V(i[1])}},[]),je=o.useCallback((r,i)=>{R(!0);const p=ee(+r.target.value,i,w,a,e,t,s);L(p,i)},[a]),Y=()=>R(!1),be=o.useCallback(r=>{const i=n[r];return typeof i=="string"?i:i.label},[]),Te=o.useCallback(r=>{G.current&&(G.current.style.cssText=Be(r,q,w,t,e))},[]),E=o.useCallback(r=>n?r.map(i=>n[i].label?n[i].label:n[i]):_e(r,d,e,t),[a,d,n]),Ae=o.useCallback((r,i=-1)=>{const p=f=>{const b=qe(r,E(r),q,w,t,e,f,oe,U);[se,le,ae,ce].forEach((h,A)=>Object.assign(h.current.style,b[A]))};i===-1?[0,1].forEach(f=>p(f)):p(i)},[]),ge=o.useCallback(()=>{ye()||($(document.activeElement===v.current),J(document.activeElement===j.current))},[]),me=o.useCallback((r,i)=>m?u.jsx("input",{className:"w-slider__input",type:"range",disabled:!0,value:a[r],min:e,max:t}):u.jsx("input",{className:"w-slider__input",ref:i,type:"range",step:s,min:e,max:t,onKeyDown:p=>ve(p,r),onKeyUp:()=>R(!1),onChange:p=>je(p,r),onTouchStart:p=>{r===0?$(!0):J(!0),ye()&&p.target.focus()},onTouchEnd:()=>r===0?$(!1):J(!1),...Ie({ariaLabel:I,ariaLabelledBy:ie,ariaValueText:M})}),[a]),Re=o.useCallback(()=>{const r=()=>[...Array(2).keys()].map(f=>u.jsx("div",{className:"w-slider__mark-line"},f)),i=()=>[...Array(2).keys()].map(f=>{const b=d!=null&&d[f]?d[f]:(t-e)*f+e;return u.jsx("div",{children:n?be(b):b},f)}),p=()=>[...Array(2).keys()].map(f=>{const b=d!=null&&d[f]?d[f]:(t-e)*f+e;return u.jsxs("div",{className:"w-slider__mark",children:[u.jsx("div",{className:"w-slider__mark-line"}),u.jsx("div",{className:"w-slider__mark-value",children:n?be(b):b})]},f)});return C?u.jsxs("div",{className:"w-slider__marks-contained",children:[u.jsx("div",{className:"w-slider__marks",children:r()}),u.jsx("div",{className:"w-slider__markvalues",children:i()})]}):u.jsx("div",{className:"w-slider__marks",children:p()})},[]);return u.jsxs("div",{className:"w-slider",children:[u.jsx("style",{href:"RangeSlider",precedence:"medium",children:Oe}),u.jsxs("div",{className:`w-slider__wrapper ${m?"w-slider__wrapper-disabled":""}`,onContextMenu:r=>r.preventDefault(),children:[u.jsxs("div",{className:"w-slider__tooltips",children:[u.jsx(re,{display:ue&&w,ref:se,children:E(a)[0]}),u.jsx(re,{display:pe,ref:le,children:E(a)[1]}),u.jsx(ne,{display:ue&&w,ref:ae}),u.jsx(ne,{display:pe,ref:ce})]}),u.jsx("div",{className:`w-slider__active-track${(a[1]-e)/(t-e)<.5?" w-slider__track-noround":""}`,ref:G}),u.jsxs("div",{className:"w-slider__input-wrapper",ref:q,onMouseDown:fe,onTouchStart:fe,onKeyUp:Y,onMouseUp:Y,onTouchEnd:Y,onMouseOut:Y,onBlur:ge,onFocus:ge,children:[w&&me(0,v),me(1,j)]}),H&&Re()]}),u.jsx("div",{className:"w-slider__width-check",ref:oe})]})}function Ie({ariaLabel:e,ariaLabelledBy:t,ariaValueText:n}){return{"aria-label":e,"aria-labelledby":t,"aria-valuetext":n}}function Me(e,t,n,s){(e&&e<n||t&&t[0]<n)&&console.warn("Value too low."),(e&&e>s||t&&t[1]>s)&&console.warn("Value too high.")}function D(e,t,n,s){t&&n.current&&(n.current.value=e[0]),s.current&&(s.current.value=e[1])}const ee=(e,t,n,s,c,l,m,T=!1)=>{let g;return n?g=t===1?[s[0],e]:[e,s[1]]:g=[c,e],T?ke(P(g,m),c,l):P(g,m)},S=(e,t)=>t>1?F(e/t)*t:F(e),P=(e,t)=>[S(e[0],t),S(e[1],t)],We=(e,t)=>Math.ceil(e/t)*t,ze=(e,t)=>Math.floor(e/t)*t,Be=(e,t,n,s,c)=>{var g;let l=(e[1]-e[0])/(s-c);const m=((g=t.current)==null?void 0:g.clientWidth)||0;(l<0||l>1)&&(console.warn("Values outside of range."),l=te(l,0,1));const T=n?(e[0]-c)/(s-c)*m:0;return`
    width: ${l*100+"%"};
    margin-left: ${T+"px"};`},Le=e=>{const t=e.target.getBoundingClientRect(),n=e.touches[0].clientX-t.left;return F(n)},_e=(e,t,n,s)=>{const c=[...e];return t!=null&&t[0]&&(e[0]===n&&(c[0]=t[0]),e[1]===n&&(c[1]=t[0])),t!=null&&t[1]&&(e[0]===s&&(c[0]=t[1]),e[1]===s&&(c[1]=t[1])),c},ye=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;De.__docgenInfo={description:"",methods:[],displayName:"CoreSlider",props:{max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"number | RangeValue",elements:[{name:"number"},{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},values:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | RangeValue)[]"},description:""},onChange:{required:!1,tsType:{name:"any"},description:""},onChangeAfter:{required:!1,tsType:{name:"any"},description:""},startEndValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | null)[]"},description:""},rangeValues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}],raw:"RangeValue[]"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-valuetext":{required:!1,tsType:{name:"string"},description:""},keyboardStepFactor:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.04",computed:!1}},showMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{De as C};
