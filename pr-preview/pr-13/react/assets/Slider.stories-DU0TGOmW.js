import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{r as w,R as F}from"./index-BKyFwriW.js";import{c as re,A as z}from"./index-B3BUqH2P.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-BAUi5aDK.js";const te=".w-slider{--w-slider-track-background: var(--w-s-color-background-disabled-subtle);--w-slider-track-active-background: var(--w-s-color-background-primary);--w-slider-thumb-background: var(--w-s-color-background-primary);--w-slider-thumb-border: var(--w-s-color-border-primary);--w-slider-thumb-shadow: none}.w-slider{height:34px;width:100%;position:relative;-webkit-user-select:none;user-select:none;touch-action:pan-y}.w-slider__track{--_w-slider-track-background: var(--w-slider-track-background);position:absolute;height:3px;bottom:14px;width:100%;border-radius:4px;background-color:var(--_w-slider-track-background)}.w-slider__track-active{--_w-slider-track-active-background: var(--w-slider-track-active-background);position:absolute;height:5px;bottom:13px;border-radius:4px;background-color:var(--_w-slider-track-active-background)}.w-slider__thumb{--_w-slider-thumb-background: var(--w-slider-thumb-background);--_w-slider-thumb-border: var(--w-slider-thumb-border);--_w-slider-thumb-shadow: var(--w-slider-thumb-shadow);position:absolute;height:13px;width:13px;bottom:2px;border-radius:50%;box-sizing:content-box;cursor:pointer;-webkit-tap-highlight-color:transparent;background-color:var(--_w-slider-thumb-background);border:8px solid var(--_w-slider-thumb-border);box-shadow:var(--_w-slider-thumb-shadow)}.w-slider__thumb:hover,.w-slider__thumb:focus{outline:none;padding:3px;border-width:5px;--w-slider-thumb-shadow: var(--w-shadow-slider-handle-hover)}.w-slider--is-disabled{pointer-events:none;opacity:.6;--w-slider-track-background: var(--w-s-color-background-disabled);--w-slider-thumb-background: var(--w-s-color-background-disabled);--w-slider-thumb-border: var(--w-s-color-border-disabled)}";var r=(n=>(n[n.Lower=0]="Lower",n[n.Upper=1]="Upper",n))(r||{});function x(n,a,e){return Math.min(Math.max(n,a),e)}function _(n,a,e,u){if(u){const b=(e-a)/2;return u.invertExtent(n)[n>b?1:0]}return x((n-a)/(e-a),0,1)}function S(n,a,e,u,b){if(b)return b(n);let t=(e-a)*n;return t=Math.round(t/u)*u+a,x(a,t,e)}function ne(n,a,e){if(!e)return n+a;const u=e.invertExtent(n)[1],b=e.thresholds().find(t=>t>=u)??1;return e(b)}function ae(n,a,e){if(!e)return n-a;const u=e.invertExtent(n)[0],b=e.thresholds().reverse().find(t=>t<u)??0;return e(b)}function oe(n,a){const e="500px",[u,b]=w.useState(e);return w.useLayoutEffect(()=>{var t;b(e-(((t=a.current)==null?void 0:t.offsetWidth)??0))},[e,a]),u}const Q=({className:n,disabled:a=!1,value:e,onInput:u=()=>{},onChange:b=()=>{},max:t=100,min:l=0,scale:p,step:v=1,...y})=>{var M,X,O,$,K,P;const D=w.useRef(null),L=w.useRef(null),E=w.useRef(null);oe(D,L);const[Y,q]=w.useState(!1),[Z,I]=w.useState(!1),[f,A]=w.useState({lower:_(e[r.Lower],l,t,p),upper:_(e[r.Upper],l,t,p)}),k=w.useRef([...e]),[ee,N]=w.useState(!1),T=w.useRef(null);w.useEffect(()=>{A({lower:_(e[r.Lower],l,t,p),upper:_(e[r.Upper],l,t,p)}),k.current=[...e]},[e,l,t,p]);const W=(o,i)=>{if(e[i]!==o){const d=e.slice();d[i]=o,b(d)}},C=(o,i=r.Lower)=>{if(a)return;const d=e[i];let s;switch(o.key){case"ArrowLeft":case"ArrowDown":case"PageDown":s=ae(d,v,p);break;case"ArrowUp":case"ArrowRight":case"PageUp":s=ne(d,v,p);break;case"Home":s=l;break;case"End":s=t;break}if(s!=null){s=x(s,i===r.Lower?l:e[r.Lower],i===r.Upper?t:e[r.Upper]);const h=e.slice();h[i]=s,u(h),W(s,i),o.preventDefault(),o.stopPropagation()}},H=o=>{var m;if(a)return;L.current===o.target?q(!0):E.current===o.target&&I(!0);let i=0;"touches"in o?i=o.touches[0].clientX:i=o.clientX;const d=(m=D.current)==null?void 0:m.getBoundingClientRect();if(!d)return;const s=x((i-d.left)/d.width,0,1);let h;if(e[r.Lower]===t)h=r.Lower;else if(e[r.Upper]===l)h=r.Upper;else{const j=Math.abs(f.lower-s),g=Math.abs(f.upper+1e-4-s);h=j<g?r.Lower:r.Upper}T.current={handle:h,sliderRect:d},N(!0),"touches"in o?(document.addEventListener("touchmove",U,{passive:!1}),document.addEventListener("touchend",V)):(document.addEventListener("mousemove",U),document.addEventListener("mouseup",V)),o.preventDefault()},U=o=>{let i=0;if(o instanceof TouchEvent)if(o.touches.length>0)i=o.touches[0].clientX;else return;else i=o.clientX;const d=T.current;if(!d)return;const{handle:s,sliderRect:h}=d;let m=x((i-h.left)/h.width,0,1);if(s===r.Lower){const g=_(k.current[r.Upper],l,t,p);m=x(m,0,g)}else{const g=_(k.current[r.Lower],l,t,p);m=x(m,g,1)}const j=S(m,l,t,v,p);j!==k.current[s]&&(k.current[s]=j,u([...k.current]),A(g=>s===r.Lower?{...g,lower:m}:{...g,upper:m})),o.preventDefault()},V=o=>{var d,s;o instanceof TouchEvent?(document.removeEventListener("touchmove",U),document.removeEventListener("touchend",V)):(document.removeEventListener("mousemove",U),document.removeEventListener("mouseup",V)),q(!1),I(!1);const i=T.current;if(i){const{handle:h}=i,m=k.current[h];W(m,h),h===r.Lower?(d=L.current)==null||d.focus():(s=E.current)==null||s.focus()}N(!1),T.current=null,o.preventDefault()};return c.jsxs(c.Fragment,{children:[c.jsx("style",{href:"w-slider",precedence:"medium",children:te}),c.jsxs("div",{onMouseDown:H,onTouchStart:H,"data-body-scroll-lock-ignore":!0,className:re("w-slider",{"w-slider--is-disabled":a},n),style:{cursor:ee?"grabbing":"pointer"},ref:D,children:[c.jsx("div",{className:"w-slider__track"}),c.jsx("div",{className:"w-slider__track-active",style:{left:`${f.lower*100}%`,right:`${(1-f.upper)*100}%`}}),c.jsx("div",{"aria-disabled":a,"aria-label":(M=y["aria-label"])==null?void 0:M[r.Lower],"aria-labelledby":(X=y["aria-labelledby"])==null?void 0:X[r.Lower],"aria-valuemax":e[r.Upper],"aria-valuemin":l,"aria-valuenow":S(f.lower,l,t,v,p),"aria-valuetext":(O=y["aria-valuetext"])==null?void 0:O[r.Lower],className:"w-slider__thumb",onKeyDown:C,role:"slider",ref:L,style:{left:`${f.lower*100}%`,cursor:"inherit"},tabIndex:a?void 0:0}),c.jsx(z,{tooltip:!0,placement:"top",flip:!0,targetEl:L,isShowing:Y,children:c.jsx("p",{id:"tooltip-bubbletext",children:S(f.lower,l,t,v,p)})}),c.jsx("div",{"aria-disabled":a,"aria-label":($=y["aria-label"])==null?void 0:$[r.Upper],"aria-labelledby":(K=y["aria-labelledby"])==null?void 0:K[r.Upper],"aria-valuemax":t,"aria-valuemin":e[r.Lower],"aria-valuenow":S(f.upper,l,t,v,p),"aria-valuetext":(P=y["aria-valuetext"])==null?void 0:P[r.Upper],className:"w-slider__thumb",onKeyDown:o=>C(o,r.Upper),role:"slider",ref:E,style:{right:`${(1-f.upper)*100}%`,cursor:"inherit"},tabIndex:a?void 0:0}),c.jsx(z,{tooltip:!0,placement:"top",flip:!0,noArrow:!0,targetEl:E,isShowing:Z,children:c.jsx("p",{id:"tooltip-bubbletext",children:S(f.upper,l,t,v,p)})})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"RangeSlider",props:{"aria-label":{required:!1,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:"String value that labels the slider."},"aria-labelledby":{required:!1,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:"Identifies the element that labels the slider."},"aria-valuetext":{required:!1,tsType:{name:"tuple",raw:"[string, string]",elements:[{name:"string"},{name:"string"}]},description:"Human readable text alternative for the value."},className:{required:!1,tsType:{name:"string"},description:"Additional CSS class for the container."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the slider is disabled.",defaultValue:{value:"false",computed:!1}},onInput:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: [number, number]) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:"Handler that is called every time the value of the slider changes.",defaultValue:{value:"() => {}",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: [number, number]) => void",signature:{arguments:[{type:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},name:"value"}],return:{name:"void"}}},description:"Handler that is called when the value of the slider has settled.",defaultValue:{value:"() => {}",computed:!1}},max:{required:!1,tsType:{name:"number"},description:"The greatest value in the range of permitted values.",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"The lowest value in the range of permitted values.",defaultValue:{value:"0",computed:!1}},scale:{required:!1,tsType:{name:"Scale"},description:`A d3-scale object for non linear slider scales.
@see d3-scale repository https://github.com/d3/d3-scale`},step:{required:!1,tsType:{name:"number"},description:"Specifies the value granularity.",defaultValue:{value:"1",computed:!1}},value:{required:!0,tsType:{name:"tuple",raw:"[number, number]",elements:[{name:"number"},{name:"number"}]},description:"The current value"}}};const ce={title:"Forms/Slider-v2"},R=()=>{const[n,a]=F.useState([1e6,1e7]),[e,u]=F.useState(n);return c.jsxs("div",{style:{paddingTop:"0px"},children:[c.jsxs("output",{children:[e[0]," - ",e[1]," kr"]}),c.jsx(Q,{onChange:a,onInput:u,min:1e6,max:1e7,step:5e4,value:n})]})};R.__docgenInfo={description:"",methods:[],displayName:"Wrapper"};var B,G,J;R.parameters={...R.parameters,docs:{...(B=R.parameters)==null?void 0:B.docs,source:{originalSource:`() => {
  const [value, setValue] = React.useState<[number, number]>([1000000, 10000000]);
  const [output, setOutput] = React.useState(value);
  return <div style={{
    paddingTop: '0px'
  }}>
      <output>
        {output[0]} - {output[1]} kr
      </output>
      <RangeSlider onChange={setValue} onInput={setOutput} min={1000000} max={10000000} step={50000} value={value} />
    </div>;
}`,...(J=(G=R.parameters)==null?void 0:G.docs)==null?void 0:J.source}}};const pe=["Wrapper"];export{R as Wrapper,pe as __namedExportsOrder,ce as default};
