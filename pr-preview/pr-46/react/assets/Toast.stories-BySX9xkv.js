import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{R as I,r as l}from"./iframe-4ajwLuou.js";import{B as T}from"./Button-CRBMpzJC.js";import{r as D}from"./index-Bju9qx3w.js";import{c as C}from"./index-DcNGyp6h.js";import{r as O,a as V,b as W,x as $,n as q,l as J}from"./class-map-obzit4R7.js";import{W as p}from"./index-C1G5lW80.js";import"./preload-helper-C1FmrZbK.js";import"./style-DhxcUcNZ.js";import"./index-BAUi5aDK.js";import"./index-n_Q49xnZ.js";const z=".w-toast{--w-toast-color-background: var(--w-s-color-background);--w-toast-color-border: var(--w-s-color-border);--w-toast-color-text: var(--w-s-color-text);--w-toast-color-icon: var(--w-s-color-icon);display:flex;flex-direction:column;position:fixed;bottom:0;overflow:hidden;align-items:center;width:100%;z-index:1000;pointer-events:none}.w-toast__item{display:flex;align-items:start;min-width:328px;max-width:420px;padding:8px 8px 8px 6px;margin-bottom:16px;border:2px solid transparent;border-radius:8px;pointer-events:auto;gap:1px;background-color:var(--_w-toast-background);border-color:var(--_w-toast-border);color:var(--_w-toast-text)}.w-toast__icon{margin:8px;color:var(--_w-toast-icon)}.w-toast__icon>*{display:block}.w-toast__item>p{align-self:center;margin:0 auto 0 0;padding:11px 0;font-size:var(--w-font-size-s);line-height:var(--w-line-height-s)}.w-toast__item{--_w-toast-background: var(--w-toast-background);--_w-toast-border: var(--w-toast-border);--_w-toast-text: var(--w-toast-text);--_w-toast-icon: var(--w-toast-icon)}.w-toast--positive{--w-toast-background: var(--w-s-color-background-positive-subtle);--w-toast-border: var(--w-s-color-border-positive-subtle);--w-toast-icon: var(--w-s-color-icon-positive)}.w-toast--warning{--w-toast-background: var(--w-s-color-background-warning-subtle);--w-toast-border: var(--w-s-color-border-warning-subtle);--w-toast-icon: var(--w-s-color-icon-warning)}.w-toast--negative{--w-toast-background: var(--w-s-color-background-negative-subtle);--w-toast-border: var(--w-s-color-border-negative-subtle);--w-toast-icon: var(--w-s-color-icon-negative)}",L=".w-expandtransition{display:grid;grid-template-rows:0fr;transition:.4s grid-template-rows ease}.w-expandtransition--expanded{grid-template-rows:1fr}.w-expandtransition>div{overflow:hidden}";var B=Object.defineProperty,P=(t,e,a,s)=>{for(var r=void 0,i=t.length-1,n;i>=0;i--)(n=t[i])&&(r=n(e,a,r)||r);return r&&B(e,a,r),r},c;let w=(c=class extends O{constructor(){super(...arguments),this.show=!1}render(){const e={"w-expandtransition":!0,"w-expandtransition--expanded":this.show};return $`
      <div class="${W(e)}">
        <div>
          <slot></slot>
        </div>
      </div>
    `}},c.styles=[V(L)],c);P([q({type:Boolean,reflect:!0})],w.prototype,"show");customElements.get("w-expandtransition")||customElements.define("w-expandtransition",w);w.__docgenInfo={description:"",methods:[],displayName:"WExpandTransition"};const R=J({tagName:"w-expandtransition",elementClass:w,react:I}),A={positive:{class:"w-toast--positive",icon:o.jsx(p,{name:"Success"}),role:"status"},warning:{class:"w-toast--warning",icon:o.jsx(p,{name:"Warning"}),role:"alert"},negative:{class:"w-toast--negative",icon:o.jsx(p,{name:"Error"}),role:"alert"}},y=({variant:t,text:e,dismissible:a=!1,id:s,duration:r})=>{const{icon:i,role:n,class:m}=A[t],[j,g]=l.useState(!1),[k,v]=l.useState(!1);l.useEffect(()=>{g(!0),v(!0),setTimeout(()=>g(!1),r),setTimeout(()=>{v(!1),x(s)},r+400)},[]);const N=C("w-toast__item",m);return o.jsx(R,{show:j,children:o.jsxs("div",{className:N,role:n,id:s,children:[o.jsx("span",{className:"w-toast__icon",children:i}),k&&o.jsx("p",{children:e}),a&&o.jsx(T,{variant:"overlayQuiet",size:"small",hasIconOnly:!0,onClick:()=>x(s),children:o.jsx(p,{name:"Close"})})]})})};y.__docgenInfo={description:"",methods:[],displayName:"ToastItem",props:{variant:{required:!0,tsType:{name:"union",raw:"'positive' | 'warning' | 'negative'",elements:[{name:"literal",value:"'positive'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'negative'"}]},description:""},duration:{required:!1,tsType:{name:"union",raw:"5000 | 10000 | 6000000",elements:[{name:"literal",value:"5000"},{name:"literal",value:"10000"},{name:"literal",value:"6000000"}]},description:""},text:{required:!0,tsType:{name:"string"},description:""},dismissible:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},id:{required:!0,tsType:{name:"string"},description:""}}};const F=()=>Date.now().toString(36)+Math.random().toString(36).slice(2,5),_=()=>JSON.parse(sessionStorage.getItem("wtoasts")||"[]"),u=t=>{sessionStorage.setItem("wtoasts",JSON.stringify(t))},M=5e3,S=(t,e)=>{window==null||window.dispatchEvent(new StorageEvent("storage",{key:"wtoasts",newValue:JSON.stringify(e),oldValue:JSON.stringify(t),storageArea:sessionStorage}))},x=t=>{const e=_(),a=e.filter(s=>s.id!==t);u(a),S(e,a)},Q=t=>{const e={...t,duration:t.duration||M,id:F()},a=_(),s=[...a,e];u(s),S(a,s)},E=()=>{const[t,e]=l.useState([]),a=s=>{if(s.key==="wtoasts"){const r=JSON.parse(s.newValue||"[]");e(r)}};return l.useEffect(()=>(window==null||window.addEventListener("storage",a),window==null||window.addEventListener("beforeunload",()=>u([])),()=>{e([]),sessionStorage==null||sessionStorage.removeItem("wtoasts"),window==null||window.removeEventListener("storage",a),window==null||window.removeEventListener("beforeunload",()=>u([]))}),[]),D.createPortal(o.jsxs("div",{className:"w-toast",children:[o.jsx("style",{children:z}),t==null?void 0:t.map(s=>l.createElement(y,{...s,key:s.id}))]}),document.body)},G=[5e3,1e4,6e6],nt={title:"Toast",component:E,parameters:{layout:"centered"},argTypes:{dismissible:{control:"boolean",defaultValue:!0},duration:{control:{type:"radio"},options:G,description:"Duration of timeout",defaultValue:5e3},text:{control:"text",description:"Toast message content",defaultValue:"This is a toast!"}}},H=({dismissible:t,duration:e,text:a})=>{const[s,r]=l.useState(0),i=n=>{Q({text:`${a} #${s}`,variant:n,duration:e,dismissible:t}),r(m=>m+1)};return o.jsx("div",{style:{position:"absolute",top:"16px",left:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:["positive","warning","negative"].map(n=>o.jsxs(T,{type:"button",onClick:()=>i(n),variant:"utility",children:["Show ",n," toast"]},n))})},d={args:{text:"This is a toast!"},render:t=>o.jsxs(o.Fragment,{children:[o.jsx(E,{}),o.jsx(H,{...t})]})};var f,b,h;d.parameters={...d.parameters,docs:{...(f=d.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    text: 'This is a toast!'
  },
  render: args => <>
      <WToastContainer />
      <ToastDemo {...args} />
    </>
}`,...(h=(b=d.parameters)==null?void 0:b.docs)==null?void 0:h.source}}};const it=["Default"];export{d as Default,it as __namedExportsOrder,nt as default};
