import{j as u}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-DmM0KDA7.js";function X(e,t){return Math.round(e)}function ee(e){return typeof e=="number"?X(e):e}function re(e,t,o){return Math.min(Math.max(e,t),o)}function oe(e,t,o){return[re(e[0],t,o),re(e[1],t,o)]}const ne=({display:e,children:t,ref:o})=>u.jsx("div",{className:"w-slider__tooltip",style:{visibility:e?"visible":"hidden"},ref:o,children:t}),ie=({display:e,ref:t})=>u.jsxs("svg",{style:{visibility:e?"visible":"hidden"},ref:t,width:"24",height:"10",viewBox:"0 0 24 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10.5858 8.58579L6.34315 4.34315C4.84285 2.84286 2.80802 2 0.686291 2H23.3137C21.192 2 19.1571 2.84285 17.6569 4.34314L13.4142 8.58579C12.6332 9.36684 11.3668 9.36684 10.5858 8.58579Z",fill:"#1B1B1F"}),u.jsx("line",{y1:"1.48",x2:"24",y2:"1.48",stroke:"#1B1B1F",strokeWidth:"1.2"})]}),qe=(e,t,o,c,l,i,h,T,g)=>{var x,B;const M=((x=o.current)==null?void 0:x.clientWidth)||0,I=((B=o.current)==null?void 0:B.getBoundingClientRect()).left,[G,N]=Se(e,l,i),K=(e[0]-i)/(l-i)*M,$=(e[1]-i)/(l-i)*M,C=K+G+I,d=$+N+I,W={left:C+"px",transform:"translateY(-39px) translateX(-50%)"},w={left:d+"px",transform:"translateY(-39px) translateX(-50%)"};if(g){const L=document.body.clientWidth,a=.5*(Ne(t[h]||e[h],T)+k),v=5,m=R=>({left:R==="left"?v+"px":"",right:R==="right"?v+"px":"",transform:"translateY(-39px)"});c&&(C+a>L-v&&Object.assign(W,m("right")),C-a<v&&Object.assign(W,m("left"))),d+a>L-v&&Object.assign(w,m("right")),d-a<v&&Object.assign(w,m("left"))}return[W,w,{left:C+"px",transform:"translateY(-9px) translateX(-50%)"},{left:d+"px",transform:"translateY(-9px) translateX(-50%)"}]},Se=(e,t,o)=>{const c=(e[0]-o)/(t-o)*k,l=(e[1]-o)/(t-o)*k;return[.5*k-c,.5*k-l]},Ne=(e,t)=>{const o=t.current;if(o)return o.innerText=e,o.clientWidth};ne.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{display:{required:!0,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"any"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""}}};ie.__docgenInfo={description:"",methods:[],displayName:"TooltipArrow",props:{display:{required:!0,tsType:{name:"boolean"},description:""},ref:{required:!0,tsType:{name:"RefObject",elements:[{name:"SVGSVGElement"}],raw:"RefObject<SVGSVGElement>"},description:""}}};const Oe=".w-slider{--_thumb-color: var(--w-s-color-background-primary);--_thumb-focus-visible: var(--w-s-color-border-focus);--_thumb-focus: #00000014;--_active-track-color: var(--w-s-color-background-primary);--_track-color: var(--w-s-color-background-disabled-subtle);--_mark-line: var(--w-s-color-background-disabled-subtle);--_slider-disabled-color: var(--w-s-color-background-disabled);--_tooltip-text-color: var(--w-s-color-text-inverted-static);--_tooltip-color: var(--w-color-tooltip-background-static);--_mark-color: var(--w-s-color-text-subtle)}.w-slider__wrapper{display:grid;max-width:100%;margin:8px 0}.w-slider__input-wrapper{grid-row:1;grid-column:1;display:grid}.w-slider__input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:44px;grid-row:1;grid-column:1;pointer-events:none;background-color:transparent}.w-slider__input[type=range]:focus{outline:none}.w-slider__input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(-12.5px);border-radius:14px;pointer-events:all!important}.w-slider__input[type=range]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:28px;height:28px;background-color:var(--_thumb-color);cursor:pointer;transform:translateY(0);border-radius:14px;pointer-events:all!important;border:none}.w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:hover::-moz-range-thumb{box-shadow:0 0 0 6px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-webkit-slider-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus::-moz-range-thumb{box-shadow:0 0 0 8px var(--_thumb-focus)}.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}.w-slider__input[type=range]:focus-visible::-moz-range-thumb{outline:2px solid var(--_thumb-focus-visible);outline-offset:1px;box-shadow:none}@media (hover: none){.w-slider__input[type=range]:focus-visible::-webkit-slider-thumb{outline:none!important;box-shadow:0 0 0 8px var(--_thumb-focus)!important}}.w-slider__input[type=range]::-webkit-slider-runnable-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__input[type=range]::-moz-range-track{height:4px;background:var(--_track-color);box-shadow:none;pointer-events:none;border-radius:2px}.w-slider__active-track{background-color:var(--_active-track-color);height:6px;border-radius:3px;width:50%;transform:translateY(19px);grid-row:1;grid-column:1;z-index:0;pointer-events:none;display:grid;width:0px}.w-slider__active-track.w-slider__track-noround{border-top-right-radius:0;border-bottom-right-radius:0}.w-slider__tooltips{width:100%;grid-row:1;grid-column:1;pointer-events:none;display:grid;height:0}.w-slider__tooltips .w-slider__tooltip{color:var(--_tooltip-text-color);padding:5px 12px;position:absolute;text-align:center;background-color:var(--_tooltip-color);z-index:20;width:max-content;border-radius:4px;white-space:nowrap}.w-slider__tooltips svg{grid-row:1;grid-column:1;position:absolute;z-index:20}.w-slider__marks{display:grid;transform:translateY(-8px);grid-auto-flow:column;grid-template-columns:max-content;justify-items:end;color:var(--_mark-color);pointer-events:none;grid-column:1;align-self:end;margin:0 11.7px;grid-auto-columns:minmax(0,1fr);z-index:-1}.w-slider__marks .w-slider__mark{display:grid;justify-items:center;grid-row-gap:1px}.w-slider__mark-line{width:4px;height:8px;border-radius:2px;background-color:var(--_mark-line)}.w-slider__mark-value{width:0;white-space:nowrap;display:grid;justify-content:center}.w-slider__markvalues{display:grid;color:var(--_mark-color);grid-template-columns:auto auto;transform:translateY(-8px);height:22px}.w-slider__markvalues>div:nth-child(1){justify-self:start}.w-slider__markvalues>div:nth-child(2){justify-self:end}.w-slider__width-check{visibility:hidden;pointer-events:none;z-index:0;width:max-content;height:0px}.w-slider__wrapper-disabled .w-slider__active-track{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-webkit-slider-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]::-moz-range-thumb{background-color:var(--_slider-disabled-color)}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-webkit-slider-thumb{box-shadow:none}.w-slider__wrapper-disabled .w-slider__input[type=range]:hover::-moz-range-thumb{box-shadow:none}.w-slider__marks-contained{display:grid;grid-row-gap:1px;grid-template-rows:max-content}",k=28;function ze({min:e=0,max:t=100,rangeValues:o,step:c=1,value:l,values:i,disabled:h,onChange:T,onChangeAfter:g,"aria-label":M,"aria-labelledby":se,"aria-valuetext":I,keyboardStepFactor:G=.04,showTooltips:N=!1,containTooltips:K=!0,showMarks:$=!0,containMarks:C=!1,startEndValues:d}){const w=(i?"range":"standard")==="range";o&&(e=0,t=o.length-1),d!=null&&d[0]&&(e=e-c),d!=null&&d[1]&&(t=t+c);const x=s.useCallback(r=>o?o.findIndex(n=>n.label?n.label===r.label:n===r):0,[]),B=s.useCallback(()=>o?i?[x(i[0]),x(i[1])]:[e,x(l)]:i?H(i,c):[e,U(l,c)],[]),L=()=>i?H(i,c):[e,U(l,c)],[a,v]=s.useState(()=>B()),[m,R]=s.useState(!1),Z=s.useRef(null),q=s.useRef(null),le=s.useRef(null),_=s.useRef(null),y=s.useRef(null),ae=s.useRef(null),ce=s.useRef(null),de=s.useRef(null),ue=s.useRef(null),pe=s.useRef(0),[J,O]=s.useState(!1),[Q,z]=s.useState(!1),fe=N&&(m||J)&&!Q,we=N&&(m||Q)&&!J,E=(r,n=-1)=>{Ae(r),N&&Re(r,n)};s.useEffect(()=>{const r=()=>{E(a)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[a]);const ve=s.useCallback((r,n)=>{const p=f=>{const b=d.findIndex(j=>j===f);return b!==-1?b===0?e:t:f};return r&&d?r=p(r):n&&d&&(n=[p(n[0]),p(n[1])]),{value:r,values:n}},[]);s.useEffect(()=>{if((typeof l=="number"||i!=null&&i.every(r=>typeof r=="number"))&&Me(l,i,e,t),!(J||Q)){if(!o&&d){const n=ve(l,i);l=n.value,i=n.values}o&&(w?i=[x(i[0]),x(i[1])]:l=x(l));const r=L();v(r),E(r),S(r,w,_,y)}},[i,l]),s.useEffect(()=>{g&&!m&&g(ge(a)),m||(O(!1),z(!1))},[m,a]),s.useEffect(()=>{_.current&&_.current.setAttribute("value",a[0].toString()),y.current&&y.current.setAttribute("value",a[1].toString())},[a]);const D=s.useCallback((r,n,p)=>{if(n){const f={left:-1,right:1},b=t*G,j=a[r]+f[n]*b,A=te(j,r,w,a,e,t,c,!0);S(A,w,_,y),Y(A,r)}else S(p,w,_,y),Y(p,r)},[a]),je=s.useCallback((r,n)=>{["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(r.key)&&(r.preventDefault(),R(!0),["ArrowLeft","ArrowDown"].includes(r.key)&&D(n,"left"),["ArrowRight","ArrowUp"].includes(r.key)&&D(n,"right"),r.key==="End"&&D(n,void 0,n===0?[t,a[1]]:[a[0],t]),r.key==="Home"&&D(n,void 0,n===0?[e,a[1]]:[a[0],e]))},[D]),be=s.useCallback(r=>{var n;if(!h&&r.target.nodeName!=="INPUT"){const p=r.touches?Le(r):r.nativeEvent.offsetX,f=((n=q.current)==null?void 0:n.clientWidth)||0,b=p/f*(t-e)+e,j=(a[0]+a[1])/2,A=b>j?1:0,P=te(b,A,w,a,e,t,c);Y(P,A),S(P,w,_,y)}},[i,l,a]),Y=s.useCallback((r,n)=>{var p;if(clearTimeout(pe.current),w){if((b=>{var ye;const j=b[1]-b[0],P=((((ye=q.current)==null?void 0:ye.clientWidth)||0)-k)/(t-e);return j*P})(r)<k){const b=(t-e)/((((p=q.current)==null?void 0:p.clientWidth)||0)-k);n===0?r[0]=We(r[1]-b*k,c):r[1]=Ie(r[0]+b*k,c)}S(r,w,_,y)}pe.current=setTimeout(()=>{r=oe(r,e,t),v(r),T&&T(ge(r))},.01),E(r,n)},[]),ge=s.useCallback(r=>{if(o)return w?[o[r[0]],o[r[1]]]:o[r[1]];{const n=ke(r,d,e,t);return w?[ee(n[0]),ee(n[1])]:ee(n[1])}},[]),Te=s.useCallback((r,n)=>{R(!0);const p=te(+r.target.value,n,w,a,e,t,c,!0);Y(p,n),S(p,w,_,y)},[a]),F=()=>R(!1),he=s.useCallback(r=>{const n=o[r];return typeof n=="string"?n:n.label},[]),Ae=s.useCallback(r=>{Z.current&&(Z.current.style.cssText=Be(r,q,w,t,e))},[]),V=s.useCallback(r=>o?r.map(n=>o[n].label?o[n].label:o[n]):ke(r,d,e,t),[a,d,o]),Re=s.useCallback((r,n=-1)=>{const p=f=>{const b=qe(r,V(r),q,w,t,e,f,le,K);[ae,ce,de,ue].forEach((j,A)=>Object.assign(j.current.style,b[A]))};n===-1?[0,1].forEach(f=>p(f)):p(n)},[]),me=s.useCallback(()=>{xe()||(O(document.activeElement===_.current),z(document.activeElement===y.current))},[]),_e=s.useCallback((r,n)=>h?u.jsx("input",{className:"w-slider__input",type:"range",disabled:!0,value:a[r],min:e,max:t}):u.jsx("input",{className:"w-slider__input",ref:n,type:"range",min:e,max:t,onKeyDown:p=>je(p,r),onKeyUp:()=>R(!1),onChange:p=>Te(p,r),onMouseDown:()=>r===0?O(!0):z(!0),onTouchStart:p=>{r===0?O(!0):z(!0),xe()&&p.target.focus()},onTouchEnd:()=>r===0?O(!1):z(!1),...De({ariaLabel:M,ariaLabelledBy:se,ariaValueText:I})}),[a]),Ce=s.useCallback(()=>{const r=()=>[...Array(2).keys()].map(f=>u.jsx("div",{className:"w-slider__mark-line"},f)),n=()=>[...Array(2).keys()].map(f=>{const b=d!=null&&d[f]?d[f]:(t-e)*f+e;return u.jsx("div",{children:o?he(b):b},f)}),p=()=>[...Array(2).keys()].map(f=>{const b=d!=null&&d[f]?d[f]:(t-e)*f+e;return u.jsxs("div",{className:"w-slider__mark",children:[u.jsx("div",{className:"w-slider__mark-line"}),u.jsx("div",{className:"w-slider__mark-value",children:o?he(b):b})]},f)});return C?u.jsxs("div",{className:"w-slider__marks-contained",children:[u.jsx("div",{className:"w-slider__marks",children:r()}),u.jsx("div",{className:"w-slider__markvalues",children:n()})]}):u.jsx("div",{className:"w-slider__marks",children:p()})},[]);return u.jsxs("div",{className:"w-slider",children:[u.jsx("style",{href:"RangeSlider",precedence:"medium",children:Oe}),u.jsxs("div",{className:`w-slider__wrapper ${h?"w-slider__wrapper-disabled":""}`,onContextMenu:r=>r.preventDefault(),children:[u.jsxs("div",{className:"w-slider__tooltips",children:[u.jsx(ne,{display:fe&&w,ref:ae,children:V(a)[0]}),u.jsx(ne,{display:we,ref:ce,children:V(a)[1]}),u.jsx(ie,{display:fe&&w,ref:de}),u.jsx(ie,{display:we,ref:ue})]}),u.jsx("div",{className:`w-slider__active-track${(a[1]-e)/(t-e)<.5?" w-slider__track-noround":""}`,ref:Z}),u.jsxs("div",{className:"w-slider__input-wrapper",ref:q,onMouseDown:be,onTouchStart:be,onKeyUp:F,onMouseUp:F,onTouchEnd:F,onMouseOut:F,onBlur:me,onFocus:me,children:[w&&_e(0,_),_e(1,y)]}),$&&Ce()]}),u.jsx("div",{className:"w-slider__width-check",ref:le})]})}function De({ariaLabel:e,ariaLabelledBy:t,ariaValueText:o}){return{"aria-label":e,"aria-labelledby":t,"aria-valuetext":o}}function Me(e,t,o,c){(e&&e<o||t&&t[0]<o)&&console.warn("Value too low."),(e&&e>c||t&&t[1]>c)&&console.warn("Value too high.")}function S(e,t,o,c){t&&o.current&&(o.current.value=e[0]),c.current&&(c.current.value=e[1])}const te=(e,t,o,c,l,i,h,T=!1)=>{let g;return o?g=t===1?[c[0],e]:[e,c[1]]:g=[l,e],T?e>=i||e<=l?oe(g,l,i):oe(H(g,h),l,i):H(g,h)},U=(e,t)=>t>1?X(e/t)*t:X(e),H=(e,t)=>[U(e[0],t),U(e[1],t)],Ie=(e,t)=>Math.ceil(e/t)*t,We=(e,t)=>Math.floor(e/t)*t,Be=(e,t,o,c,l)=>{var g;let i=(e[1]-e[0])/(c-l);const h=((g=t.current)==null?void 0:g.clientWidth)||0;(i<0||i>1)&&(console.warn("Values outside of range."),i=re(i,0,1));const T=o?(e[0]-l)/(c-l)*h:0;return`
    width: ${i*100+"%"};
    margin-left: ${T+"px"};`},Le=e=>{const t=e.target.getBoundingClientRect(),o=e.touches[0].clientX-t.left;return X(o)},ke=(e,t,o,c)=>{const l=[...e];return t!=null&&t[0]&&(e[0]===o&&(l[0]=t[0]),e[1]===o&&(l[1]=t[0])),t!=null&&t[1]&&(e[0]===c&&(l[0]=t[1]),e[1]===c&&(l[1]=t[1])),l},xe=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;ze.__docgenInfo={description:"",methods:[],displayName:"CoreSlider",props:{max:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},min:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"number | RangeValue",elements:[{name:"number"},{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},values:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(number | RangeValue)[]"},description:""},onChange:{required:!1,tsType:{name:"any"},description:""},onChangeAfter:{required:!1,tsType:{name:"any"},description:""},startEndValues:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(string | null)[]"},description:""},rangeValues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"string | ObjectRangeValue",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ label: string; [key: string]: any }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:{name:"string"},value:{name:"any",required:!0}}]}}]}],raw:"RangeValue[]"},description:""},step:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-valuetext":{required:!1,tsType:{name:"string"},description:""},keyboardStepFactor:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.04",computed:!1}},showMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containMarks:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},containTooltips:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{ze as C};
